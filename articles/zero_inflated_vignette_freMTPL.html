<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Frequency analysis with a Zero Inflated Regression of a French Motor Third Party Liability dataset • CASdatasets</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="zero_inflated_vignette_freMTPL_files/libs/quarto-html/popper.min.js"></script><script src="zero_inflated_vignette_freMTPL_files/libs/quarto-html/tippy.umd.min.js"></script><link href="zero_inflated_vignette_freMTPL_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="zero_inflated_vignette_freMTPL_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link rel="stylesheet" href="style.scss">
<script src="zero_inflated_vignette_freMTPL_files/libs/kePrint-0.0.1/kePrint.js"></script><link href="zero_inflated_vignette_freMTPL_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Frequency analysis with a Zero Inflated Regression of a French Motor Third Party Liability dataset">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">CASdatasets</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2-0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/CASdatasets.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/poisson_vignette.html">Frequency analysis of a French Motor Third Party Liability dataset</a></li>
    <li><a class="dropdown-item" href="../articles/gam_rc_phileas_vignette.html">Frequency analysis of a Belgian Motor Third Party Liability dataset</a></li>
    <li><a class="dropdown-item" href="../articles/zero_inflated_vignette.html">Frequency analysis of a Norwegian Motor Third Party Liability dataset</a></li>
    <li><a class="dropdown-item" href="../articles/zero_inflated_vignette_freMTPL.html">Frequency analysis with a Zero Inflated Regression of a French Motor Third Party Liability dataset</a></li>
    <li><a class="dropdown-item" href="../articles/triangle_vignette.html">Claims reserving of a French Motor Third Party Liability triangle dataset</a></li>
    <li><a class="dropdown-item" href="../articles/triangle_aids_vignette.html">Reserving exercice on reporting delays in AIDS Data</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/dutangc/CASdatasets/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-quarto">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Frequency analysis with a Zero Inflated Regression of a French Motor Third Party Liability dataset</h1>

      <p class="author">Siharath Julien</p>
      <p class="date">2024-08-01</p>

      <small class="dont-index">Source: <a href="https://github.com/dutangc/CASdatasets/blob/master/vignettes/zero_inflated_vignette_freMTPL.qmd" class="external-link"><code>vignettes/zero_inflated_vignette_freMTPL.qmd</code></a></small>
      <div class="d-none name"><code></code></div>
    </div>






    <section class="section level2"><h2 id="sec-zero-inflated-introduction">Introduction<a class="anchor" aria-label="anchor" href="#sec-zero-inflated-introduction"></a>
</h2>
<div class="cell">
<details class="code-fold"><summary>Session Settings</summary><div class="sourceCode cell-code" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Graphs----</span></span>
<span><span class="va">face_text</span><span class="op">=</span><span class="st">'plain'</span></span>
<span><span class="va">face_title</span><span class="op">=</span><span class="st">'plain'</span></span>
<span><span class="va">size_title</span> <span class="op">=</span> <span class="fl">14</span></span>
<span><span class="va">size_text</span> <span class="op">=</span> <span class="fl">11</span></span>
<span><span class="va">legend_size</span> <span class="op">=</span> <span class="fl">11</span></span>
<span></span>
<span><span class="va">global_theme</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span> <span class="op">%+replace%</span></span>
<span>    <span class="fu">theme</span><span class="op">(</span></span>
<span>      text <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>size <span class="op">=</span> <span class="va">size_text</span>, face <span class="op">=</span> <span class="va">face_text</span><span class="op">)</span>,</span>
<span>      legend.position <span class="op">=</span> <span class="st">"bottom"</span>,</span>
<span>      legend.direction <span class="op">=</span> <span class="st">"horizontal"</span>, </span>
<span>      legend.box <span class="op">=</span> <span class="st">"vertical"</span>,</span>
<span>      legend.key <span class="op">=</span> <span class="fu">element_blank</span><span class="op">(</span><span class="op">)</span>,</span>
<span>      legend.text <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>size <span class="op">=</span> <span class="va">legend_size</span><span class="op">)</span>,</span>
<span>      axis.text <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>size <span class="op">=</span> <span class="va">size_text</span>, face <span class="op">=</span> <span class="va">face_text</span><span class="op">)</span>, </span>
<span>      plot.title <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span></span>
<span>        size <span class="op">=</span> <span class="va">size_title</span>, </span>
<span>        hjust <span class="op">=</span> <span class="fl">0.5</span></span>
<span>      <span class="op">)</span>,</span>
<span>      plot.subtitle <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>hjust <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Outputs</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span><span class="st">"digits"</span> <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
</details>
</div>
<div class="cell">
<style type="text/css">
.justify {
  text-align: justify !important
}
</style>
</div>
<div>
<blockquote>
<p><strong>In Brief</strong></p>
<p>In some instances, zeros appear frequently in the data, indicating a specific structure that a simple Poisson model fails to account for, leading to biased and inaccurate estimates. To address this issue, we employ zero-inflated regression models, which are designed to handle datasets with an excess of zero counts by modeling both the occurrence of zeros and the count data separately.</p>
<p>The purpose of this vignette is to illustrate the application of zero-inflated regression in the analysis of insurance data, specifically using the <code>freMTPL6</code> dataset from <span class="citation" data-cites="charpentierCAS">Charpentier (<a href="#ref-charpentierCAS" role="doc-biblioref">2014</a>)</span>. This dataset comprises detailed information on insurance contracts and claims related to French motor third-party liability insurance. By applying zero-inflated regression, we aim to accurately model the frequency of claims and investigate the factors that influence claim occurrences within this insurance data, providing a more nuanced understanding than standard count models.</p>
</blockquote>
</div>
<section class="level2"><h3 id="required-packages">Required Packages<a class="anchor" aria-label="anchor" href="#required-packages"></a>
</h3>
<div class="cell">
<details class="code-fold"><summary>Show the code</summary><div class="sourceCode cell-code" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">required_libraries</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"tidyverse"</span>,</span>
<span>  <span class="st">"CASdatasets"</span>,</span>
<span>  <span class="st">"pscl"</span>,</span>
<span>  <span class="st">"splines"</span>,</span>
<span>  <span class="st">"AER"</span>,</span>
<span>  <span class="st">"broom"</span>,</span>
<span>  <span class="st">"knitr"</span>,</span>
<span>  <span class="st">"kableExtra"</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/invisible.html" class="external-link">invisible</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">required_libraries</span>, <span class="va">library</span>, character.only <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</details>
</div>
</section><section class="level2"><h3 id="data">Data<a class="anchor" aria-label="anchor" href="#data"></a>
</h3>
<div class="justify">
<p>The data used in this vignette are sourced from a French motor third-party liability insurance portfolio.</p>
<p>The dataset, <code>freMPL6</code>, contains comprehensive details on insurance contracts and client information, obtained from a French insurance company. This dataset specifically pertains to a motor insurance portfolio, providing valuable insights into the characteristics and behavior of policyholders within this segment of the insurance market.</p>
</div>
</section><section class="level2"><h3 id="dictionaries">Dictionaries<a class="anchor" aria-label="anchor" href="#dictionaries"></a>
</h3>
<p>The list of the 20 variables from the <code>freMPL6</code> dataset is reported in <a href="#tbl-dict-frempl" class="quarto-xref">Table 1</a>.</p>
<div class="justify">
<div id="tbl-dict-frempl" class="striped hover quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-tbl"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-dict-frempl-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table 1: Content of the <code>freMPL6</code> dataset
</figcaption><div aria-describedby="tbl-dict-frempl-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table table-striped table-hover caption-top">
<colgroup>
<col style="width: 17%">
<col style="width: 7%">
<col style="width: 75%">
</colgroup>
<thead><tr class="header">
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Exposure</td>
<td>Numeric</td>
<td>The exposure, in years</td>
</tr>
<tr class="even">
<td>LicAge</td>
<td>Numeric</td>
<td>The driving license age, in months</td>
</tr>
<tr class="odd">
<td>RecordBeg</td>
<td>Date</td>
<td>Beginning date of record</td>
</tr>
<tr class="even">
<td>RecordEnd</td>
<td>Date</td>
<td>End date of record</td>
</tr>
<tr class="odd">
<td>Gender</td>
<td>Factor</td>
<td>Gender of the driver, either “Male” or “Female”</td>
</tr>
<tr class="even">
<td>MariStat</td>
<td>Factor</td>
<td>Marital status of the driver, either “Alone” or “Other”</td>
</tr>
<tr class="odd">
<td>SocioCateg</td>
<td>Factor</td>
<td>Socio-economic category of the driver, known as CSP in France, between “CSP1” and “CSP99”</td>
</tr>
<tr class="even">
<td>VehUsage</td>
<td>Factor</td>
<td>Usage of the vehicle, among “Private”, “Private+trip to office”, “Professional”, “Professional run”</td>
</tr>
<tr class="odd">
<td>DrivAge</td>
<td>Numeric</td>
<td>Age of the driver, in years</td>
</tr>
<tr class="even">
<td>HasKmLimit</td>
<td>Boolean</td>
<td>Indicator if there’s a mileage limit for the policy, 1 if yes, 0 otherwise</td>
</tr>
<tr class="odd">
<td>ClaimAmount</td>
<td>Numeric</td>
<td>Total claim amount of the guarantee</td>
</tr>
<tr class="even">
<td>ClaimNbResp</td>
<td>Numeric</td>
<td>Number of responsible claims in the 4 preceding years</td>
</tr>
<tr class="odd">
<td>ClaimNbNonResp</td>
<td>Numeric</td>
<td>Number of non-responsible claims in the 4 preceding years</td>
</tr>
<tr class="even">
<td>ClaimNbParking</td>
<td>Numeric</td>
<td>Number of parking claims in the 4 preceding years</td>
</tr>
<tr class="odd">
<td>ClaimNbFireTheft</td>
<td>Numeric</td>
<td>Number of fire-theft claims in the 4 preceding years</td>
</tr>
<tr class="even">
<td>ClaimNbWindscreen</td>
<td>Numeric</td>
<td>Number of windscreen claims in the 4 preceding years</td>
</tr>
<tr class="odd">
<td>OutUseNb</td>
<td>Numeric</td>
<td>Number of out-of-use instances in the 4 preceding years</td>
</tr>
<tr class="even">
<td>RiskArea</td>
<td>Numeric</td>
<td>Unknown risk area, between 1 and 13, possibly ordered</td>
</tr>
<tr class="odd">
<td>BonusMalus</td>
<td>Numeric</td>
<td>Bonus-malus coefficient, between 50 and 350: &lt;100 means bonus, &gt;100 means malus in France</td>
</tr>
<tr class="even">
<td>ClaimInd</td>
<td>Boolean</td>
<td>Claim indicator of the guarantee (this is not the claim number)</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
</div>
</section><section class="level2"><h3 id="importation">Importation<a class="anchor" aria-label="anchor" href="#importation"></a>
</h3>
<div class="cell">
<details class="code-fold"><summary>code for importing our datasets</summary><div class="sourceCode cell-code" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"freMPL6"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">freMPL6</span><span class="op">$</span><span class="va">DrivAgefactor</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cut.html" class="external-link">cut</a></span><span class="op">(</span><span class="va">freMPL6</span><span class="op">$</span><span class="va">DrivAge</span>,</span>
<span>                        breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="cn">Inf</span>, <span class="fl">25</span>, <span class="fl">40</span>, <span class="fl">60</span>, <span class="fl">70</span>, <span class="cn">Inf</span><span class="op">)</span>,</span>
<span>                        labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"18-25"</span>,<span class="st">"25-40"</span>, <span class="st">"40-60"</span>, <span class="st">"50-70"</span>, <span class="st">"70+"</span><span class="op">)</span>,</span>
<span>                        right <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
</details>
</div>
</section></section><section class="section level2"><h2 id="sec-zero-inflated-models">Models<a class="anchor" aria-label="anchor" href="#sec-zero-inflated-models"></a>
</h2>
<section class="level2"><h3 id="purpose">Purpose<a class="anchor" aria-label="anchor" href="#purpose"></a>
</h3>
<div class="justify">
<p>In the context of insurance, Zero-inflated regression models, such as Zero-inflated Poisson (ZIP) and Zero-inflated Negative Binomial (ZINB), are essential tools for gaining a more nuanced understanding of data compared to simple Poisson regression. These models are particularly advantageous when dealing with datasets that exhibit an excess of zeros, as they differentiate between zeros that result from structural causes (e.g., policyholders who never file claims) and those that occur by random chance.</p>
<p>Zero-inflated models are especially useful when analyzing variables that influence the likelihood of filing a claim, such as a driver’s age, gender, or driving history. These factors often have varying propensities to result in zero claims, which may stem from inherent characteristics of specific driver profiles or particular usage patterns. By explicitly modeling both the zero-generating process and the claim-generating process, zero-inflated regression models provide more accurate estimates and predictions. This allows insurers to enhance risk assessments, refine pricing strategies, and make more informed decisions.</p>
<p>In fields like insurance claims analysis, healthcare data analytics, and ecological studies—where understanding the relationship between multiple variables and the occurrence of events (such as claims or incidents) is crucial—these models excel at capturing the complexities of the data. They enable a more precise analysis of how different factors influence the likelihood of events, leading to better-targeted products and pricing strategies. Ultimately, this improves the ability to manage risk and optimize profitability.</p>
<p>In this analysis, we will investigate the relationship between the response variable <code>ClaimNbResp</code> (which represents the number of claims where the driver is deemed responsible) and various explanatory variables, including <code>DrivAge</code> (driver’s age), <code>Gender</code>, <code>LicAge</code> (age of the driving license), <code>BonusMalus</code> (driver’s bonus-malus score), and <code>VehUsage</code> (vehicle usage type). This modeling approach is consistent with the principles advocated by <span class="citation" data-cites="agresti">Agresti (<a href="#ref-agresti" role="doc-biblioref">2013</a>)</span>, a renowned authority in statistical methodology, who underscores the significance of incorporating multiple explanatory factors in regression analysis. By including these variables in our model, we aim to gain a deeper understanding of how these factors influence the likelihood of a driver being responsible for a claim.</p>
</div>
</section><section class="level2"><h3 id="modeling-insurance-claim-frequency-with-zero-inflated-negative-binomial-regression">Modeling Insurance Claim Frequency with Zero-Inflated Negative Binomial Regression<a class="anchor" aria-label="anchor" href="#modeling-insurance-claim-frequency-with-zero-inflated-negative-binomial-regression"></a>
</h3>
<div class="justify">
<p>To model the frequency of insurance claims, we utilize a Zero-Inflated Negative Binomial (ZINB) Regression approach for the response variable <code>ClaimNbResp</code>, which represents the count of insurance claims and is typically assumed to follow a Poisson distribution:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="normal">ClaimNbResp</mtext><mo>∼</mo><mtext mathvariant="normal">Poisson</mtext><mrow><mo stretchy="true" form="prefix">(</mo><mi>μ</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>,</mo></mrow><annotation encoding="application/x-tex">
\text{ClaimNbResp} \sim \text{Poisson}(\mu),
</annotation></semantics></math></p>
<p>where <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>μ</mi><annotation encoding="application/x-tex">\mu</annotation></semantics></math> represents the mean rate of claims. The ZINB approach is particularly well-suited for handling overdispersed data with excess zeros, offering a flexible, nonlinear modeling framework. Specifically, we express the natural logarithm of <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>μ</mi><annotation encoding="application/x-tex">\mu</annotation></semantics></math> as a linear combination of predictor variables, along with an adjustment for exposure:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>log</mo><mrow><mo stretchy="true" form="prefix">(</mo><mi>μ</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><msub><mi>β</mi><mn>0</mn></msub><mo>+</mo><msub><mi>β</mi><mn>1</mn></msub><mo>×</mo><mtext mathvariant="normal">DrivAge</mtext><mo>+</mo><msub><mi>β</mi><mn>2</mn></msub><mo>×</mo><mtext mathvariant="normal">Gender</mtext><mo>+</mo><msub><mi>β</mi><mn>3</mn></msub><mo>×</mo><mtext mathvariant="normal">LicAge</mtext><mo>+</mo></mrow><annotation encoding="application/x-tex">
\log(\mu) = \beta_0 + \beta_1 \times \text{DrivAge} + \beta_2 \times \text{Gender} + \beta_3 \times \text{LicAge} +
</annotation></semantics></math><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>β</mi><mn>4</mn></msub><mo>×</mo><mtext mathvariant="normal">BonusMalus</mtext><mo>+</mo><msub><mi>β</mi><mn>5</mn></msub><mo>×</mo><mtext mathvariant="normal">VehUsage</mtext><mo>+</mo><mo>log</mo><mrow><mo stretchy="true" form="prefix">(</mo><mtext mathvariant="normal">Exposure</mtext><mo stretchy="true" form="postfix">)</mo></mrow><mo>,</mo></mrow><annotation encoding="application/x-tex">
\beta_4 \times \text{BonusMalus} + \beta_5 \times \text{VehUsage} + \log(\text{Exposure}),
</annotation></semantics></math></p>
<p>where <code>DrivAge</code> denotes the driver’s age, <code>Gender</code> is a binary variable indicating the driver’s gender, <code>LicAge</code> represents the age of the driving license, <code>BonusMalus</code> captures the driver’s bonus-malus score, <code>VehUsage</code> reflects the type of vehicle usage, and <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>log</mo><mrow><mo stretchy="true" form="prefix">(</mo><mtext mathvariant="normal">Exposure</mtext><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">\log(\text{Exposure})</annotation></semantics></math> adjusts for the exposure variable. The coefficients <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>β</mi><mn>0</mn></msub><mo>,</mo><msub><mi>β</mi><mn>1</mn></msub><mo>,</mo><msub><mi>β</mi><mn>2</mn></msub><mo>,</mo><msub><mi>β</mi><mn>3</mn></msub><mo>,</mo><msub><mi>β</mi><mn>4</mn></msub><mo>,</mo><msub><mi>β</mi><mn>5</mn></msub></mrow><annotation encoding="application/x-tex">\beta_0, \beta_1, \beta_2, \beta_3, \beta_4, \beta_5</annotation></semantics></math> are parameters to be estimated through the regression process.</p>
<p>In addition to the count component, the zero-inflation part of the model accounts for the probability of excess zeros via a logistic regression model:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="normal">Logit</mtext><mrow><mo stretchy="true" form="prefix">(</mo><mi>P</mi><mrow><mo stretchy="true" form="prefix">(</mo><mtext mathvariant="normal">zero</mtext><mo stretchy="true" form="postfix">)</mo></mrow><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><mi>Z</mi><mi>γ</mi><mo>,</mo></mrow><annotation encoding="application/x-tex">
\text{Logit}(P(\text{zero})) = Z\gamma,
</annotation></semantics></math></p>
<p>where <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Z</mi><annotation encoding="application/x-tex">Z</annotation></semantics></math> represents the matrix of covariates for the zero-inflation model, and <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>γ</mi><annotation encoding="application/x-tex">\gamma</annotation></semantics></math> is the vector of coefficients associated with these covariates.</p>
<p>In this framework, the intercept <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>β</mi><mn>0</mn></msub><annotation encoding="application/x-tex">\beta_0</annotation></semantics></math> and the coefficients <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>β</mi><mn>1</mn></msub><mo>,</mo><msub><mi>β</mi><mn>2</mn></msub><mo>,</mo><msub><mi>β</mi><mn>3</mn></msub><mo>,</mo><msub><mi>β</mi><mn>4</mn></msub><mo>,</mo><msub><mi>β</mi><mn>5</mn></msub></mrow><annotation encoding="application/x-tex">\beta_1, \beta_2, \beta_3, \beta_4, \beta_5</annotation></semantics></math> are estimated to quantify their effects on the expected rate of claims. The logistic regression component for zero inflation enhances the model’s capacity to capture complex, nonlinear relationships and the presence of excess zeros in the data, resulting in a more flexible and accurate model fit.</p>
</div>
<div>
<blockquote>
<p><strong>Pay Attention</strong></p>
<div class="justify">
<p>The results from Zero-inflated regression models are valid under the following conditions:</p>
<ul>
<li>The responses are independent.</li>
<li>The responses follow a Poisson distribution with parameter <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>λ</mi><annotation encoding="application/x-tex">\lambda</annotation></semantics></math>.</li>
<li>There may be <a href="https://en.wikipedia.org/wiki/Overdispersion" class="external-link">overdispersion</a> present in the data.</li>
</ul>
</div>
</blockquote>
</div>
<p>The estimated <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>μ</mi><annotation encoding="application/x-tex">\mu</annotation></semantics></math> parameter, which represents the mean of claims, is 0.27.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1234</span><span class="op">)</span> </span>
<span></span>
<span><span class="va">theoretic_count</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Poisson.html" class="external-link">rpois</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">freMPL6</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">freMPL6</span><span class="op">$</span><span class="va">ClaimNbResp</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">tc_df</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="op">(</span><span class="va">theoretic_count</span><span class="op">)</span></span>
<span></span>
<span><span class="va">freq_theoretic</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/proportions.html" class="external-link">prop.table</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">tc_df</span><span class="op">$</span><span class="va">theoretic_count</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">freq_claim</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/proportions.html" class="external-link">prop.table</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">freMPL6</span><span class="op">$</span><span class="va">ClaimNbResp</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">freq_theoretic_df</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="op">(</span></span>
<span>  Count <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">freq_theoretic</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  Frequency <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">freq_theoretic</span><span class="op">)</span>,</span>
<span>  Source <span class="op">=</span> <span class="st">"Theoretical Count"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">freq_claim_df</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="op">(</span></span>
<span>  Count <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">freq_claim</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  Frequency <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">freq_claim</span><span class="op">)</span>,</span>
<span>  Source <span class="op">=</span> <span class="st">"Empirical Count"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">freq_combined</span> <span class="op">&lt;-</span> <span class="va">freq_theoretic_df</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">freq_claim_df</span><span class="op">)</span></span></code></pre></div>
</div>
<p>The theoretical and empirical histograms associated with a Poisson distribution are shown in <a href="#fig-plot-hist-claims" class="quarto-xref">Figure 1</a>.</p>
<div class="cell">
<details class="code-fold"><summary>Code for the following graph</summary><div class="sourceCode cell-code" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span><span class="va">freq_combined</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">Count</span>, y <span class="op">=</span> <span class="va">Frequency</span>, fill <span class="op">=</span> <span class="va">Source</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_bar</span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span>, position <span class="op">=</span> <span class="st">"dodge2"</span>, width <span class="op">=</span> <span class="fl">0.3</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="st">"CLAIMS Number"</span>, y <span class="op">=</span> <span class="st">"Frequency"</span>, fill <span class="op">=</span> <span class="st">"Legend"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme</span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"right"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_fill_manual</span><span class="op">(</span></span>
<span>    <span class="cn">NULL</span>,</span>
<span>    values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Empirical Count"</span> <span class="op">=</span> <span class="st">"black"</span>, <span class="st">"Theoretical Count"</span> <span class="op">=</span> <span class="st">"#1E88E5"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"Legend"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="st">"CLAIMS Number"</span>, y <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme</span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"right"</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">global_theme</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</details><div class="cell-output-display">
<div id="fig-plot-hist-claims" class="quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-fig" id="fig-plot-hist-claims-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure 1: <span style="color: #1E88E5;">Theoretical</span> and <span style="color: black;">empirical</span> histogram of claims in frequence
</figcaption><div aria-describedby="fig-plot-hist-claims-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="zero_inflated_vignette_freMTPL_files/figure-html/fig-plot-hist-claims-1.png" width="768">
</div>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">freg</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/formula.html" class="external-link">formula</a></span><span class="op">(</span><span class="va">ClaimNbResp</span> <span class="op">~</span> <span class="va">DrivAgefactor</span> <span class="op">+</span> <span class="va">LicAge</span></span>
<span>                <span class="op">+</span> <span class="va">Gender</span> <span class="op">+</span> <span class="va">BonusMalus</span> <span class="op">+</span>  <span class="va">MariStat</span></span>
<span>                <span class="op">+</span> <span class="va">VehUsage</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/offset.html" class="external-link">offset</a></span><span class="op">(</span><span class="va">Exposure</span><span class="op">)</span><span class="op">|</span></span>
<span>                  <span class="va">Gender</span> <span class="op">+</span> <span class="va">DrivAgefactor</span> <span class="op">+</span> <span class="va">BonusMalus</span> <span class="op">+</span> <span class="va">LicAge</span><span class="op">)</span></span>
<span></span>
<span><span class="va">reg</span> <span class="op">&lt;-</span> <span class="fu">zeroinfl</span><span class="op">(</span><span class="va">freg</span>, data <span class="op">=</span> <span class="va">freMPL6</span>, dist <span class="op">=</span> <span class="st">"poisson"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">reg</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
zeroinfl(formula = freg, data = freMPL6, dist = "poisson")

Pearson residuals:
   Min     1Q Median     3Q    Max
-3.647 -0.469 -0.387 -0.199 43.154

Count model coefficients (poisson with log link):
                                Estimate Std. Error z value Pr(&gt;|z|)
(Intercept)                    -3.963510   0.090390  -43.85  &lt; 2e-16 ***
DrivAgefactor25-40             -0.586757   0.064947   -9.03  &lt; 2e-16 ***
DrivAgefactor40-60             -0.263728   0.075345   -3.50  0.00046 ***
DrivAgefactor50-70             -0.253096   0.093989   -2.69  0.00708 **
DrivAgefactor70+               -0.217151   0.106506   -2.04  0.04146 *
LicAge                          0.001951   0.000145   13.47  &lt; 2e-16 ***
GenderMale                     -0.068416   0.024663   -2.77  0.00554 **
BonusMalus                      0.029305   0.000507   57.78  &lt; 2e-16 ***
MariStatOther                   0.180236   0.028675    6.29  3.3e-10 ***
VehUsagePrivate+trip to office  0.175531   0.029457    5.96  2.5e-09 ***
VehUsageProfessional            0.373158   0.032901   11.34  &lt; 2e-16 ***
VehUsageProfessional run        0.562056   0.059676    9.42  &lt; 2e-16 ***

Zero-inflation model coefficients (binomial with logit link):
                    Estimate Std. Error z value Pr(&gt;|z|)
(Intercept)         3.28e+01   2.01e+00   16.26  &lt; 2e-16 ***
GenderMale          1.46e-01   9.70e-02    1.51  0.13102
DrivAgefactor25-40 -1.43e+01   9.39e-01  -15.19  &lt; 2e-16 ***
DrivAgefactor40-60 -1.58e+01   9.41e-01  -16.82  &lt; 2e-16 ***
DrivAgefactor50-70 -1.60e+01   9.69e-01  -16.54  &lt; 2e-16 ***
DrivAgefactor70+   -1.62e+01   9.90e-01  -16.37  &lt; 2e-16 ***
BonusMalus         -3.68e-01   2.23e-02  -16.47  &lt; 2e-16 ***
LicAge              2.17e-03   6.36e-04    3.41  0.00066 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Number of iterations in BFGS optimization: 39
Log-likelihood: -2.52e+04 on 20 Df</code></pre>
</div>
</div>
<div class="justify">
<p>This Zero-Inflated regression model is used to predict <code>NbClaim</code> (number of claims) with <code>DrivAge</code>,<code>LicAge</code> , <code>Gender</code>, <code>MariStat</code> (marital status), <code>BonusMalus</code>, and <code>VehUsage</code> as predictor variables.</p>
<section class="level3"><h4 id="count-model-poisson-with-log-link">Count Model (Poisson with Log Link):<a class="anchor" aria-label="anchor" href="#count-model-poisson-with-log-link"></a>
</h4>
<p>In the count component of the model, the coefficients represent the estimated change in the log count of responsible claims (<code>ClaimNbResp</code>) associated with each predictor level, relative to a reference level. For instance, the coefficients for drivers aged 25-40, 40-60, 50-70, and 70+ are all negative compared to the reference group (drivers younger than 25), indicating that older drivers are associated with a lower log count of responsible claims. The statistical significance of these coefficients (p &lt; 0.05) underscores their importance in predicting the frequency of responsible claims, suggesting that age is a key factor in claim occurrence.</p>
</section><section class="level3"><h4 id="zero-inflation-model-binomial-with-logit-link">Zero-Inflation Model (Binomial with Logit Link):<a class="anchor" aria-label="anchor" href="#zero-inflation-model-binomial-with-logit-link"></a>
</h4>
<p>The coefficients in the zero-inflation component model the log-odds of observing excess zeros (zero-inflation) versus non-excess zeros. The results indicate that older age groups (25-40, 40-60, 50-70, 70+) significantly reduce the log-odds of zero-inflation compared to the reference group (drivers younger than 25). This implies that younger drivers are more likely to contribute to the excess zeros in the data, potentially due to not filing claims despite having a higher risk profile.</p>
<p>The variables <code>LicAge</code> and <code>BonusMalus</code> also influence zero-inflation, with <code>LicAge</code> slightly increasing the log-odds of zero-inflation, suggesting that more experienced drivers might be more likely to contribute to the excess zeros. Conversely, <code>BonusMalus</code> significantly decreases the log-odds, indicating that drivers with higher bonus-malus scores are less likely to contribute to the excess zeros. Interestingly, the <code>Gender</code> variable (Male) is not statistically significant in the zero-inflation model, suggesting that gender may not be a strong predictor of whether a claim is filed or not.</p>
<p>This analysis provides valuable insights into the factors that influence both the frequency of responsible claims and the likelihood of zero-inflation in the dataset, allowing for more nuanced risk assessments and pricing strategies.</p>
</section>
</div>
<div class="panel-tabset">
<ul id="tabset-3" class="panel-tabset-tabby">
<li><a data-tabby-default="" href="#tabset-3-1">Count</a></li>
<li><a href="#tabset-3-2">Zero</a></li>
</ul>
<ul class="nav nav-tabs" id="NA" role="tablist"><li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#NA" id="NA-tab" type="button" role="tab" aria-controls="NA" aria-selected="true" class="active nav-link">
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby">
<li><a data-tabby-default="" href="#tabset-1-1">Coefficients</a></li>
<li><a href="#tabset-1-2">Count-Ratio and Confidence intervals</a></li>
</ul>
<div class="tab-content">
<div id="tabset-1-1">
<div class="cell">
<details class="code-fold"><summary>Code to create the table</summary><div class="sourceCode cell-code" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">summary_reg</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">reg</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create a tidy data frame for the count model coefficients</span></span>
<span><span class="va">tidy_count</span> <span class="op">&lt;-</span> <span class="va">summary_reg</span><span class="op">$</span><span class="va">coefficients</span><span class="op">$</span><span class="va">count</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>significance <span class="op">=</span> <span class="fu">case_when</span><span class="op">(</span></span>
<span>    <span class="va">`Pr(&gt;|z|)`</span> <span class="op">&lt;</span> <span class="fl">0.001</span> <span class="op">~</span> <span class="st">"***"</span>,</span>
<span>    <span class="va">`Pr(&gt;|z|)`</span> <span class="op">&lt;</span> <span class="fl">0.01</span> <span class="op">~</span> <span class="st">"**"</span>,</span>
<span>    <span class="va">`Pr(&gt;|z|)`</span> <span class="op">&lt;</span> <span class="fl">0.05</span> <span class="op">~</span> <span class="st">"*"</span>,</span>
<span>    <span class="va">`Pr(&gt;|z|)`</span> <span class="op">&lt;</span> <span class="fl">0.1</span> <span class="op">~</span> <span class="st">"."</span>,</span>
<span>    <span class="cn">TRUE</span> <span class="op">~</span> <span class="st">""</span></span>
<span>  <span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">kable</span><span class="op">(</span><span class="va">tidy_count</span>, format <span class="op">=</span> <span class="st">"html"</span>, escape <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">kable_styling</span><span class="op">(</span>full_width <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">add_footnote</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Significance levels : *** p &lt; 0.001, ** p &lt; 0.01, * p &lt; 0.05, . p &lt; 0.1"</span><span class="op">)</span>,</span>
<span>               notation <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span></code></pre></div>
</details><div id="tbl-zi-coef-count" class="cell quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-tbl"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-zi-coef-count-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table 2: Coefficients for the Count model
</figcaption><div aria-describedby="tbl-zi-coef-count-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="table table do-not-create-environment cell caption-top" data-quarto-postprocess="true" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead><tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Estimate</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Std. Error</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">z value</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Pr(&gt;|z|)</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">significance</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">-3.96</td>
<td style="text-align: right;">0.09</td>
<td style="text-align: right;">-43.9</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="even">
<td style="text-align: left;">DrivAgefactor25-40</td>
<td style="text-align: right;">-0.59</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">-9.0</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="odd">
<td style="text-align: left;">DrivAgefactor40-60</td>
<td style="text-align: right;">-0.26</td>
<td style="text-align: right;">0.08</td>
<td style="text-align: right;">-3.5</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="even">
<td style="text-align: left;">DrivAgefactor50-70</td>
<td style="text-align: right;">-0.25</td>
<td style="text-align: right;">0.09</td>
<td style="text-align: right;">-2.7</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: left;">**</td>
</tr>
<tr class="odd">
<td style="text-align: left;">DrivAgefactor70+</td>
<td style="text-align: right;">-0.22</td>
<td style="text-align: right;">0.11</td>
<td style="text-align: right;">-2.0</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: left;">*</td>
</tr>
<tr class="even">
<td style="text-align: left;">LicAge</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">13.5</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="odd">
<td style="text-align: left;">GenderMale</td>
<td style="text-align: right;">-0.07</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">-2.8</td>
<td style="text-align: right;">0.01</td>
<td style="text-align: left;">**</td>
</tr>
<tr class="even">
<td style="text-align: left;">BonusMalus</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">57.8</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="odd">
<td style="text-align: left;">MariStatOther</td>
<td style="text-align: right;">0.18</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">6.3</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="even">
<td style="text-align: left;">VehUsagePrivate+trip to office</td>
<td style="text-align: right;">0.18</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">6.0</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="odd">
<td style="text-align: left;">VehUsageProfessional</td>
<td style="text-align: right;">0.37</td>
<td style="text-align: right;">0.03</td>
<td style="text-align: right;">11.3</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="even">
<td style="text-align: left;">VehUsageProfessional run</td>
<td style="text-align: right;">0.56</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">9.4</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: left;">***</td>
</tr>
</tbody>
<tfoot><tr class="odd">
<td style="text-align: left; padding: 0; border: 0;">
<sup></sup> Significance levels : *** p &lt; 0.001, ** p &lt; 0.01, * p &lt; 0.05, . p &lt; 0.1</td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: left;"></td>
</tr></tfoot>
</table>
</div>
</div>
</figure>
</div>
</div>
</div>
<div id="tabset-1-2">
<div class="cell">
<details class="code-fold"><summary>Code to create the table</summary><div class="sourceCode cell-code" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">estimates</span> <span class="op">&lt;-</span> <span class="va">summary_reg</span><span class="op">$</span><span class="va">coefficients</span><span class="op">$</span><span class="va">count</span><span class="op">[</span><span class="op">-</span><span class="fl">1</span>, <span class="op">]</span> </span>
<span></span>
<span><span class="va">exp_estimates</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">estimates</span><span class="op">[</span>, <span class="st">"Estimate"</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="va">p_values</span> <span class="op">&lt;-</span> <span class="va">estimates</span><span class="op">[</span>, <span class="st">"Pr(&gt;|z|)"</span><span class="op">]</span></span>
<span></span>
<span><span class="va">conf_int</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/confint.html" class="external-link">confint</a></span><span class="op">(</span><span class="va">reg</span><span class="op">)</span></span>
<span></span>
<span><span class="va">conf_int_exp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">conf_int</span><span class="op">)</span></span>
<span></span>
<span><span class="va">reg_count_ratio</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  count_ratio <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">exp_estimates</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>  `CI 2.5` <span class="op">=</span> <span class="va">conf_int_exp</span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="fl">12</span>, <span class="fl">1</span><span class="op">]</span>,</span>
<span>  `CI 97.5` <span class="op">=</span> <span class="va">conf_int_exp</span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="fl">12</span>, <span class="fl">2</span><span class="op">]</span>,</span>
<span>  p.value <span class="op">=</span> <span class="va">p_values</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">reg_count_ratio</span> <span class="op">&lt;-</span> <span class="va">reg_count_ratio</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>significance <span class="op">=</span> <span class="fu">case_when</span><span class="op">(</span></span>
<span>    <span class="va">p.value</span> <span class="op">&lt;</span> <span class="fl">0.001</span> <span class="op">~</span> <span class="st">"***"</span>,</span>
<span>    <span class="va">p.value</span> <span class="op">&lt;</span> <span class="fl">0.01</span> <span class="op">~</span> <span class="st">"**"</span>,</span>
<span>    <span class="va">p.value</span> <span class="op">&lt;</span> <span class="fl">0.05</span> <span class="op">~</span> <span class="st">"*"</span>,</span>
<span>    <span class="va">p.value</span> <span class="op">&lt;</span> <span class="fl">0.1</span> <span class="op">~</span> <span class="st">"."</span>,</span>
<span>    <span class="cn">TRUE</span> <span class="op">~</span> <span class="st">""</span></span>
<span>  <span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">p.value</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">kable</span><span class="op">(</span><span class="va">reg_count_ratio</span>, format <span class="op">=</span> <span class="st">"html"</span>, escape <span class="op">=</span> <span class="cn">FALSE</span>, digits <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">kable_styling</span><span class="op">(</span>full_width <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">add_footnote</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Significance levels: *** p &lt; 0.001, ** p &lt; 0.01, * p &lt; 0.05, . p &lt; 0.1"</span><span class="op">)</span>,</span>
<span>               notation <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span></code></pre></div>
</details><div id="tbl-zi-odds-ratio-ci-count" class="cell quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-tbl"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-zi-odds-ratio-ci-count-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table 3: Count Ratio and confidence intervals for the Count model
</figcaption><div aria-describedby="tbl-zi-odds-ratio-ci-count-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="table table do-not-create-environment cell caption-top" data-quarto-postprocess="true" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead><tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">count_ratio</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">CI.2.5</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">CI.97.5</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">significance</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">DrivAgefactor25-40</td>
<td style="text-align: right;">0.56</td>
<td style="text-align: right;">0.49</td>
<td style="text-align: right;">0.63</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="even">
<td style="text-align: left;">DrivAgefactor40-60</td>
<td style="text-align: right;">0.77</td>
<td style="text-align: right;">0.66</td>
<td style="text-align: right;">0.89</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="odd">
<td style="text-align: left;">DrivAgefactor50-70</td>
<td style="text-align: right;">0.78</td>
<td style="text-align: right;">0.65</td>
<td style="text-align: right;">0.93</td>
<td style="text-align: left;">**</td>
</tr>
<tr class="even">
<td style="text-align: left;">DrivAgefactor70+</td>
<td style="text-align: right;">0.80</td>
<td style="text-align: right;">0.65</td>
<td style="text-align: right;">0.99</td>
<td style="text-align: left;">*</td>
</tr>
<tr class="odd">
<td style="text-align: left;">LicAge</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="even">
<td style="text-align: left;">GenderMale</td>
<td style="text-align: right;">0.93</td>
<td style="text-align: right;">0.89</td>
<td style="text-align: right;">0.98</td>
<td style="text-align: left;">**</td>
</tr>
<tr class="odd">
<td style="text-align: left;">BonusMalus</td>
<td style="text-align: right;">1.03</td>
<td style="text-align: right;">1.03</td>
<td style="text-align: right;">1.03</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="even">
<td style="text-align: left;">MariStatOther</td>
<td style="text-align: right;">1.20</td>
<td style="text-align: right;">1.13</td>
<td style="text-align: right;">1.27</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="odd">
<td style="text-align: left;">VehUsagePrivate+trip to office</td>
<td style="text-align: right;">1.19</td>
<td style="text-align: right;">1.13</td>
<td style="text-align: right;">1.26</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="even">
<td style="text-align: left;">VehUsageProfessional</td>
<td style="text-align: right;">1.45</td>
<td style="text-align: right;">1.36</td>
<td style="text-align: right;">1.55</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="odd">
<td style="text-align: left;">VehUsageProfessional run</td>
<td style="text-align: right;">1.75</td>
<td style="text-align: right;">1.56</td>
<td style="text-align: right;">1.97</td>
<td style="text-align: left;">***</td>
</tr>
</tbody>
<tfoot><tr class="even">
<td style="text-align: left; padding: 0; border: 0;">
<sup></sup> Significance levels: *** p &lt; 0.001, ** p &lt; 0.01, * p &lt; 0.05, . p &lt; 0.1</td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: left;"></td>
</tr></tfoot>
</table>
</div>
</div>
</figure>
</div>
</div>
<div class="justify">
<p>Each count ratio reflects the change in the odds of making a responsible claim (<code>ClaimNbResp</code>) associated with a one-unit increase in the predictor variable, relative to the reference category. For example, a count ratio of 0.56 for drivers aged 25-40 indicates that the odds of making a responsible claim for this age group are approximately -44% lower compared to the reference category, which consists of drivers younger than 25. Similarly, for drivers aged 40-60, the odds decrease by -23% relative to the reference category.</p>
<p>However, as drivers age beyond 60, the data suggests that the likelihood of making a responsible claim increases. This pattern indicates that while middle-aged drivers (25-60) have lower odds of making a responsible claim compared to younger drivers, the odds begin to rise in older age groups, suggesting an increased risk of responsible claims as age advances.</p>
</div>
</div>
</div>
</div>
</button></li></ul>
<div class="tab-content"><div class="active  tab-pane" id="NA" role="tabpanel" aria-labelledby="NA-tab">

<div id="tabset-3-2">
<div class="panel-tabset">
<ul id="tabset-2" class="panel-tabset-tabby">
<li><a data-tabby-default="" href="#tabset-2-1">Coefficents</a></li>
<li><a href="#tabset-2-2">Count-Ratio and Confidence intervals</a></li>
</ul>
<div class="tab-content">
<div id="tabset-2-1">
<div class="cell">
<details class="code-fold"><summary>code to create the table</summary><div class="sourceCode cell-code" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a tidy data frame for the zero-inflation model coefficients</span></span>
<span><span class="va">tidy_zero</span> <span class="op">&lt;-</span> <span class="va">summary_reg</span><span class="op">$</span><span class="va">coefficients</span><span class="op">$</span><span class="va">zero</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>significance <span class="op">=</span> <span class="fu">case_when</span><span class="op">(</span></span>
<span>    <span class="va">`Pr(&gt;|z|)`</span> <span class="op">&lt;</span> <span class="fl">0.001</span> <span class="op">~</span> <span class="st">"***"</span>,</span>
<span>    <span class="va">`Pr(&gt;|z|)`</span> <span class="op">&lt;</span> <span class="fl">0.01</span> <span class="op">~</span> <span class="st">"**"</span>,</span>
<span>    <span class="va">`Pr(&gt;|z|)`</span> <span class="op">&lt;</span> <span class="fl">0.05</span> <span class="op">~</span> <span class="st">"*"</span>,</span>
<span>    <span class="va">`Pr(&gt;|z|)`</span> <span class="op">&lt;</span> <span class="fl">0.1</span> <span class="op">~</span> <span class="st">"."</span>,</span>
<span>    <span class="cn">TRUE</span> <span class="op">~</span> <span class="st">""</span></span>
<span>  <span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">kable</span><span class="op">(</span><span class="va">tidy_zero</span>, format <span class="op">=</span> <span class="st">"html"</span>, escape <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">kable_styling</span><span class="op">(</span>full_width <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">add_footnote</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Significance levels : *** p &lt; 0.001, ** p &lt; 0.01, * p &lt; 0.05, . &lt; 0.05"</span><span class="op">)</span>,</span>
<span>               notation <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span></code></pre></div>
</details><div id="tbl-zi-coef-zero" class="cell quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-tbl"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-zi-coef-zero-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table 4: Coefficients for the Zero model
</figcaption><div aria-describedby="tbl-zi-coef-zero-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="table table do-not-create-environment cell caption-top" data-quarto-postprocess="true" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead><tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Estimate</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Std. Error</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">z value</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Pr(&gt;|z|)</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">significance</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">32.76</td>
<td style="text-align: right;">2.01</td>
<td style="text-align: right;">16.3</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="even">
<td style="text-align: left;">GenderMale</td>
<td style="text-align: right;">0.15</td>
<td style="text-align: right;">0.10</td>
<td style="text-align: right;">1.5</td>
<td style="text-align: right;">0.13</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">DrivAgefactor25-40</td>
<td style="text-align: right;">-14.27</td>
<td style="text-align: right;">0.94</td>
<td style="text-align: right;">-15.2</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="even">
<td style="text-align: left;">DrivAgefactor40-60</td>
<td style="text-align: right;">-15.83</td>
<td style="text-align: right;">0.94</td>
<td style="text-align: right;">-16.8</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="odd">
<td style="text-align: left;">DrivAgefactor50-70</td>
<td style="text-align: right;">-16.03</td>
<td style="text-align: right;">0.97</td>
<td style="text-align: right;">-16.5</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="even">
<td style="text-align: left;">DrivAgefactor70+</td>
<td style="text-align: right;">-16.21</td>
<td style="text-align: right;">0.99</td>
<td style="text-align: right;">-16.4</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="odd">
<td style="text-align: left;">BonusMalus</td>
<td style="text-align: right;">-0.37</td>
<td style="text-align: right;">0.02</td>
<td style="text-align: right;">-16.5</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="even">
<td style="text-align: left;">LicAge</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">3.4</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: left;">***</td>
</tr>
</tbody>
<tfoot><tr class="odd">
<td style="text-align: left; padding: 0; border: 0;">
<sup></sup> Significance levels : *** p &lt; 0.001, ** p &lt; 0.01, * p &lt; 0.05, . &lt; 0.05</td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: left;"></td>
</tr></tfoot>
</table>
</div>
</div>
</figure>
</div>
</div>
</div>
<div id="tabset-2-2">
<div class="cell">
<details class="code-fold"><summary>Code to create the table</summary><div class="sourceCode cell-code" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">estimates</span> <span class="op">&lt;-</span> <span class="va">summary_reg</span><span class="op">$</span><span class="va">coefficients</span><span class="op">$</span><span class="va">zero</span><span class="op">[</span><span class="op">-</span><span class="fl">1</span>, <span class="op">]</span></span>
<span></span>
<span><span class="va">exp_estimates</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">estimates</span><span class="op">[</span>, <span class="st">"Estimate"</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="va">p_values</span> <span class="op">&lt;-</span> <span class="va">estimates</span><span class="op">[</span>, <span class="st">"Pr(&gt;|z|)"</span><span class="op">]</span></span>
<span></span>
<span><span class="va">conf_int</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/confint.html" class="external-link">confint</a></span><span class="op">(</span><span class="va">reg</span><span class="op">)</span></span>
<span></span>
<span><span class="va">conf_int_exp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">conf_int</span><span class="op">)</span></span>
<span></span>
<span><span class="va">reg_count_ratio</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  count_ratio <span class="op">=</span> <span class="va">exp_estimates</span>,</span>
<span>  `CI 2.5` <span class="op">=</span> <span class="va">conf_int_exp</span><span class="op">[</span><span class="fl">13</span><span class="op">:</span><span class="fl">19</span>, <span class="fl">1</span><span class="op">]</span>,</span>
<span>  `CI 97.5` <span class="op">=</span> <span class="va">conf_int_exp</span><span class="op">[</span><span class="fl">13</span><span class="op">:</span><span class="fl">19</span>, <span class="fl">2</span><span class="op">]</span>,</span>
<span>  p.value <span class="op">=</span> <span class="va">p_values</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">reg_count_ratio</span> <span class="op">&lt;-</span> <span class="va">reg_count_ratio</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>significance <span class="op">=</span> <span class="fu">case_when</span><span class="op">(</span></span>
<span>    <span class="va">p.value</span> <span class="op">&lt;</span> <span class="fl">0.001</span> <span class="op">~</span> <span class="st">"***"</span>,</span>
<span>    <span class="va">p.value</span> <span class="op">&lt;</span> <span class="fl">0.01</span> <span class="op">~</span> <span class="st">"**"</span>,</span>
<span>    <span class="va">p.value</span> <span class="op">&lt;</span> <span class="fl">0.05</span> <span class="op">~</span> <span class="st">"*"</span>,</span>
<span>    <span class="va">p.value</span> <span class="op">&lt;</span> <span class="fl">0.1</span> <span class="op">~</span> <span class="st">"."</span>,</span>
<span>    <span class="cn">TRUE</span> <span class="op">~</span> <span class="st">""</span></span>
<span>  <span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">p.value</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">kable</span><span class="op">(</span><span class="va">reg_count_ratio</span>, format <span class="op">=</span> <span class="st">"html"</span>, escape <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">kable_styling</span><span class="op">(</span>full_width <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">add_footnote</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Significance levels: *** p &lt; 0.001, ** p &lt; 0.01, * p &lt; 0.05, . p &lt; 0.1"</span><span class="op">)</span>,</span>
<span>               notation <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span></code></pre></div>
</details><div id="tbl-zi-odds-ratio-ci-zero" class="cell quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-tbl"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-zi-odds-ratio-ci-zero-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table 5: Count-Ratio and Confidence intervals for the Zero model
</figcaption><div aria-describedby="tbl-zi-odds-ratio-ci-zero-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="table table do-not-create-environment cell caption-top" data-quarto-postprocess="true" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead><tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">count_ratio</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">CI.2.5</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">CI.97.5</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">significance</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">GenderMale</td>
<td style="text-align: right;">1.16</td>
<td style="text-align: right;">3.3e+12</td>
<td style="text-align: right;">8.8e+15</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">DrivAgefactor25-40</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">9.6e-01</td>
<td style="text-align: right;">1.4e+00</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="odd">
<td style="text-align: left;">DrivAgefactor40-60</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.0e+00</td>
<td style="text-align: right;">0.0e+00</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="even">
<td style="text-align: left;">DrivAgefactor50-70</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.0e+00</td>
<td style="text-align: right;">0.0e+00</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="odd">
<td style="text-align: left;">DrivAgefactor70+</td>
<td style="text-align: right;">0.00</td>
<td style="text-align: right;">0.0e+00</td>
<td style="text-align: right;">0.0e+00</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="even">
<td style="text-align: left;">BonusMalus</td>
<td style="text-align: right;">0.69</td>
<td style="text-align: right;">0.0e+00</td>
<td style="text-align: right;">0.0e+00</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="odd">
<td style="text-align: left;">LicAge</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">6.6e-01</td>
<td style="text-align: right;">7.2e-01</td>
<td style="text-align: left;">***</td>
</tr>
</tbody>
<tfoot><tr class="even">
<td style="text-align: left; padding: 0; border: 0;">
<sup></sup> Significance levels: *** p &lt; 0.001, ** p &lt; 0.01, * p &lt; 0.05, . p &lt; 0.1</td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: left;"></td>
</tr></tfoot>
</table>
</div>
</div>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</div></div>
</div>
</section></section><section class="section level2"><h2 id="sec-zero-inflated-graphs">Graphs<a class="anchor" aria-label="anchor" href="#sec-zero-inflated-graphs"></a>
</h2>
<div class="panel-tabset">
<ul id="tabset-5" class="panel-tabset-tabby">
<li><a data-tabby-default="" href="#tabset-5-1">Count Model</a></li>
<li><a href="#tabset-5-2">Zero Model</a></li>
</ul>
<ul class="nav nav-tabs" id="NA" role="tablist"><li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#NA" id="NA-tab" type="button" role="tab" aria-controls="NA" aria-selected="true" class="active nav-link">
<div class="cell">
<details class="code-fold"><summary>Code to create the following graph</summary><div class="sourceCode cell-code" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">estimates</span> <span class="op">&lt;-</span> <span class="va">summary_reg</span><span class="op">$</span><span class="va">coefficients</span><span class="op">$</span><span class="va">count</span><span class="op">[</span><span class="op">-</span><span class="fl">1</span>, <span class="op">]</span> </span>
<span></span>
<span><span class="va">count_ratio</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="va">estimates</span><span class="op">[</span>, <span class="st">"Estimate"</span><span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="va">conf_int</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/confint.html" class="external-link">confint</a></span><span class="op">(</span><span class="va">reg</span><span class="op">)</span><span class="op">)</span><span class="op">[</span><span class="op">-</span><span class="fl">1</span>, <span class="op">]</span></span>
<span></span>
<span><span class="va">vars_count</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grep</a></span><span class="op">(</span><span class="st">"^(DrivAge|Gender|LicAge|MariStat|VehUsage)"</span>, <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">count_ratio</span><span class="op">)</span>, value <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">vars_count_with_count</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"count_"</span>, <span class="va">vars_count</span><span class="op">)</span></span>
<span></span>
<span><span class="va">data_age</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="op">(</span></span>
<span>  variable <span class="op">=</span> <span class="va">vars_count</span>,</span>
<span>  coefficient <span class="op">=</span> <span class="va">count_ratio</span><span class="op">[</span><span class="va">vars_count</span><span class="op">]</span>, </span>
<span>  lower_bound <span class="op">=</span> <span class="va">conf_int</span><span class="op">[</span><span class="va">vars_count_with_count</span>, <span class="fl">1</span><span class="op">]</span>, </span>
<span>  upper_bound <span class="op">=</span> <span class="va">conf_int</span><span class="op">[</span><span class="va">vars_count_with_count</span>, <span class="fl">2</span><span class="op">]</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">data_age</span><span class="op">$</span><span class="va">variable</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">data_age</span><span class="op">$</span><span class="va">variable</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rev.html" class="external-link">rev</a></span><span class="op">(</span><span class="va">vars_count</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="fu">ggplot</span><span class="op">(</span></span>
<span>  <span class="va">data_age</span>, </span>
<span>  <span class="fu">aes</span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="va">coefficient</span>,</span>
<span>    y <span class="op">=</span> <span class="va">variable</span>,</span>
<span>    xmin <span class="op">=</span> <span class="va">lower_bound</span>,</span>
<span>    xmax <span class="op">=</span> <span class="va">upper_bound</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_point</span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span>, size <span class="op">=</span> <span class="fl">3</span>, color <span class="op">=</span> <span class="st">"#1E88E5"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_errorbar</span><span class="op">(</span></span>
<span>    width <span class="op">=</span> <span class="fl">0.2</span>,</span>
<span>    position <span class="op">=</span> <span class="fu">position_dodge</span><span class="op">(</span>width <span class="op">=</span> <span class="fl">0.6</span><span class="op">)</span>,</span>
<span>    color <span class="op">=</span> <span class="st">"#1E88E5"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_vline</span><span class="op">(</span>xintercept <span class="op">=</span> <span class="fl">1</span>, color <span class="op">=</span> <span class="st">"black"</span>, linetype <span class="op">=</span> <span class="st">"solid"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    y <span class="op">=</span> <span class="cn">NULL</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">global_theme</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</details><div class="cell-output-display">
<div id="fig-plot-coef-count" class="quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-fig" id="fig-plot-coef-count-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure 2: Counts ratio and confidence intervals of the count model
</figcaption><div aria-describedby="fig-plot-coef-count-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="zero_inflated_vignette_freMTPL_files/figure-html/fig-plot-coef-count-1.png" width="768">
</div>
</figure>
</div>
</div>
</div>
</button></li></ul>
<div class="tab-content"><div class="active  tab-pane" id="NA" role="tabpanel" aria-labelledby="NA-tab">

<div id="tabset-5-2">
<div class="justify">
<p>We will utilize splines to visualize the impact of <code>BonusMalus</code>, <code>LicAge</code>, and <code>DrivAge</code> on the non-claiming rate. Splines, which are piecewise polynomial functions, provide a powerful tool for smoothing and capturing non-linear relationships that linear models may fail to detect.</p>
<p>In the context of claim regression, splines are particularly effective for modeling the complex, non-linear effects of factors such as age, income, or policy duration on the likelihood or frequency of claims. By allowing the model to adapt flexibly to the data’s underlying structure, this approach enhances both the accuracy and fit of the model. Consequently, insurers can achieve more precise risk assessments and make more informed decisions regarding pricing and policy underwriting.</p>
</div>
<div class="panel-tabset">
<ul id="tabset-4" class="panel-tabset-tabby">
<li><a data-tabby-default="" href="#tabset-4-1">Bonus Malus impact</a></li>
<li><a href="#tabset-4-2">License Age Impact</a></li>
<li><a href="#tabset-4-3">Age Impact</a></li>
</ul>
<div class="tab-content">
<div id="tabset-4-1">
<div class="cell">
<details class="code-fold"><summary>Code to create the following graph</summary><div class="sourceCode cell-code" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">regZIbm</span> <span class="op">&lt;-</span> <span class="fu">zeroinfl</span><span class="op">(</span><span class="va">ClaimNbResp</span> <span class="op">~</span> <span class="fl">1</span> <span class="op">|</span> <span class="fu">bs</span><span class="op">(</span><span class="va">BonusMalus</span><span class="op">)</span>, </span>
<span>                    offset <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">Exposure</span><span class="op">)</span>, </span>
<span>                    data <span class="op">=</span> <span class="va">freMPL6</span>, </span>
<span>                    dist <span class="op">=</span> <span class="st">"poisson"</span>, </span>
<span>                    link <span class="op">=</span> <span class="st">"logit"</span><span class="op">)</span></span></code></pre></div>
</details><div class="cell-output cell-output-stderr">
<pre><code>Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred</code></pre>
</div>
<details class="code-fold"><summary>Code to create the following graph</summary><div class="sourceCode cell-code" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">C</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="op">(</span>BonusMalus <span class="op">=</span> <span class="fl">50</span><span class="op">:</span><span class="fl">200</span>, Exposure <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="va">pred0</span> <span class="op">&lt;-</span> <span class="va">regZIbm</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span>newdata <span class="op">=</span> <span class="va">C</span>, type <span class="op">=</span> <span class="st">"zero"</span><span class="op">)</span></span></code></pre></div>
</details><div class="cell-output cell-output-stderr">
<pre><code>Warning in bs(BonusMalus, degree = 3L, knots = numeric(0), Boundary.knots =
c(50L, : some 'x' values beyond boundary knots may cause ill-conditioned bases</code></pre>
</div>
<details class="code-fold"><summary>Code to create the following graph</summary><div class="sourceCode cell-code" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">C</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Prediction <span class="op">=</span> <span class="va">pred0</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">BonusMalus</span>, y <span class="op">=</span> <span class="va">Prediction</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_line</span><span class="op">(</span>size <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Bonus Malus"</span>, y <span class="op">=</span> <span class="st">"Probability of Not Declaring a Claim"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ylim</span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</details><div class="cell-output cell-output-stderr">
<pre><code>Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.
ℹ Please use `linewidth` instead.</code></pre>
</div>
<div class="cell-output-display">
<div id="fig-plot-coef-bonus-malus-zero" class="quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-fig" id="fig-plot-coef-bonus-malus-zero-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure 3: Bonus Malus impact on Claim Non-Declaration
</figcaption><div aria-describedby="fig-plot-coef-bonus-malus-zero-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="zero_inflated_vignette_freMTPL_files/figure-html/fig-plot-coef-bonus-malus-zero-1.png" width="768">
</div>
</figure>
</div>
</div>
</div>
<div class="justify">
<p>The plot reveals that when the Bonus-Malus score is below 100, indicating a bonus, there is a higher probability of not declaring a claim. As the Bonus-Malus score increases beyond 100, this probability declines sharply, suggesting that drivers with higher scores are more inclined to report a claim.</p>
<p>This trend may imply that drivers who have accumulated bonuses are more likely to avoid declaring claims in an effort to preserve their favorable score, thus minimizing the potential increase in their insurance premiums.</p>
</div>
</div>
<div id="tabset-4-2">
<div class="cell">
<details class="code-fold"><summary>Code to create the following graph</summary><div class="sourceCode cell-code" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">regZIbm</span> <span class="op">&lt;-</span> <span class="fu">zeroinfl</span><span class="op">(</span><span class="va">ClaimNbResp</span> <span class="op">~</span> <span class="fl">1</span> <span class="op">|</span> <span class="fu">bs</span><span class="op">(</span><span class="va">LicAge</span><span class="op">)</span>, </span>
<span>                    offset <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">Exposure</span><span class="op">)</span>, </span>
<span>                    data <span class="op">=</span> <span class="va">freMPL6</span>, </span>
<span>                    dist <span class="op">=</span> <span class="st">"poisson"</span>, </span>
<span>                    link <span class="op">=</span> <span class="st">"logit"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">A</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="op">(</span>LicAge <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">freMPL6</span><span class="op">$</span><span class="va">LicAge</span><span class="op">)</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">freMPL6</span><span class="op">$</span><span class="va">LicAge</span><span class="op">)</span>, Exposure <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="va">pred0</span> <span class="op">&lt;-</span> <span class="va">regZIbm</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span>newdata <span class="op">=</span> <span class="va">A</span>, type <span class="op">=</span> <span class="st">"zero"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">A</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Prediction <span class="op">=</span> <span class="va">pred0</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">LicAge</span>, y <span class="op">=</span> <span class="va">Prediction</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_line</span><span class="op">(</span>size <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="st">"License Age"</span>, y <span class="op">=</span> <span class="st">"Probability of Not Declaring a Claim"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ylim</span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</details><div class="cell-output-display">
<div id="fig-plot-coef-license-age-zero" class="quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-fig" id="fig-plot-coef-license-age-zero-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure 4: License Age impact on Claim Non-Declaration
</figcaption><div aria-describedby="fig-plot-coef-license-age-zero-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="zero_inflated_vignette_freMTPL_files/figure-html/fig-plot-coef-license-age-zero-1.png" width="768">
</div>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-4-3">
<div class="cell">
<details class="code-fold"><summary>Code to create the following graph</summary><div class="sourceCode cell-code" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">regZIbm</span> <span class="op">&lt;-</span> <span class="fu">zeroinfl</span><span class="op">(</span><span class="va">ClaimNbResp</span> <span class="op">~</span> <span class="fl">1</span> <span class="op">|</span> <span class="fu">bs</span><span class="op">(</span><span class="va">DrivAge</span><span class="op">)</span>, </span>
<span>                    offset <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">Exposure</span><span class="op">)</span>, </span>
<span>                    data <span class="op">=</span> <span class="va">freMPL6</span>, </span>
<span>                    dist <span class="op">=</span> <span class="st">"poisson"</span>, </span>
<span>                    link <span class="op">=</span> <span class="st">"logit"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">B</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="op">(</span>DrivAge <span class="op">=</span> <span class="fl">20</span><span class="op">:</span><span class="fl">100</span>, Exposure <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="va">pred0</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">regZIbm</span>, newdata <span class="op">=</span> <span class="va">B</span>, type <span class="op">=</span> <span class="st">"zero"</span><span class="op">)</span></span></code></pre></div>
</details><div class="cell-output cell-output-stderr">
<pre><code>Warning in bs(DrivAge, degree = 3L, knots = numeric(0), Boundary.knots = c(20L,
: some 'x' values beyond boundary knots may cause ill-conditioned bases</code></pre>
</div>
<details class="code-fold"><summary>Code to create the following graph</summary><div class="sourceCode cell-code" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">B</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>Prediction <span class="op">=</span> <span class="va">pred0</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">DrivAge</span>, y <span class="op">=</span> <span class="va">Prediction</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_line</span><span class="op">(</span>size <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Driver Age"</span>, y <span class="op">=</span> <span class="st">"Probability of Not Declaring a Claim"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ylim</span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</details><div class="cell-output-display">
<div id="fig-plot-coef-age-zero" class="quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-fig" id="fig-plot-coef-age-zero-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure 5: Age impact on Claim Non-Declaration
</figcaption><div aria-describedby="fig-plot-coef-age-zero-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="zero_inflated_vignette_freMTPL_files/figure-html/fig-plot-coef-age-zero-1.png" width="768">
</div>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div></div>
</div>
</section><section class="section level2"><h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-agresti" class="csl-entry" role="listitem">
Agresti, Alan. 2013. <em>Categorical Data Analysis, 3rd Edition</em>.
</div>
<div id="ref-charpentierCAS" class="csl-entry" role="listitem">
Charpentier, Arthur. 2014. <em>Computational Actuarial Science with <span>R</span></em>. The <span>R</span> Series. Chapman; Hall/CRC. <a href="https://www.routledge.com/Computational-Actuarial-Science-with-R/Charpentier/p/book/9781138033788" class="external-link">https://www.routledge.com/Computational-Actuarial-Science-with-R/Charpentier/p/book/9781138033788</a>.
</div>
</div>
</section><section class="section level2"><h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a>
</h2>
<div class="justify">
<p>For more similar claim frequency datasets with a Poisson-like distribution, see <a href="https://dutangc.github.io/CASdatasets/reference/freMTPL.html" class="external-link"><code>freMTPL</code></a> (import with <code>data("freMTPLfreq")</code>): French automobile dataset, <a href="https://dutangc.github.io/CASdatasets/reference/beMTPL16.html" class="external-link"><code>beMTPL16</code></a>: Belgian automobile dataset (import with <code>data("beMTPL16")</code>), <a href="https://dutangc.github.io/CASdatasets/reference/ausprivauto.html" class="external-link"><code>ausprivauto0405</code></a> (import with <code>data("ausprivauto0405")</code>): Australian automobile dataset, or <a href="https://dutangc.github.io/CASdatasets/reference/pricingame.html" class="external-link"><code>pg17trainpol</code></a> (import with <code>data("pg17trainpol")</code>).</p>
</div>
</section><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'light-border',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config);
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script></main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="http://dutangc.free.fr" class="external-link">Christophe Dutang</a>, <a href="https://freakonometrics.github.io" class="external-link">Arthur Charpentier</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
