<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Frequency analysis of a French Motor Third Party Liability dataset â€¢ CASdatasets</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="poisson_vignette_files/libs/quarto-html/popper.min.js"></script><script src="poisson_vignette_files/libs/quarto-html/tippy.umd.min.js"></script><link href="poisson_vignette_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="poisson_vignette_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link rel="stylesheet" href="style.scss">
<script src="poisson_vignette_files/libs/kePrint-0.0.1/kePrint.js"></script><link href="poisson_vignette_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Frequency analysis of a French Motor Third Party Liability dataset">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">CASdatasets</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2-0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/CASdatasets.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/poisson_vignette.html">Frequency analysis of a French Motor Third Party Liability dataset</a></li>
    <li><a class="dropdown-item" href="../articles/gam_rc_phileas_vignette.html">Frequency analysis of a Belgian Motor Third Party Liability dataset</a></li>
    <li><a class="dropdown-item" href="../articles/zero_inflated_vignette.html">Frequency analysis of a Norwegian Motor Third Party Liability dataset</a></li>
    <li><a class="dropdown-item" href="../articles/zero_inflated_vignette_freMTPL.html">Frequency analysis with a Zero Inflated Regression of a French Motor Third Party Liability dataset</a></li>
    <li><a class="dropdown-item" href="../articles/triangle_vignette.html">Claims reserving of a French Motor Third Party Liability triangle dataset</a></li>
    <li><a class="dropdown-item" href="../articles/triangle_aids_vignette.html">Reserving exercice on reporting delays in AIDS Data</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/dutangc/CASdatasets/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-quarto">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Frequency analysis of a French Motor Third Party Liability dataset</h1>

      <p class="author">Julien Siharath</p>
      <p class="date">August, 2024</p>

      <small class="dont-index">Source: <a href="https://github.com/dutangc/CASdatasets/blob/master/vignettes/poisson_vignette.qmd" class="external-link"><code>vignettes/poisson_vignette.qmd</code></a></small>
      <div class="d-none name"><code></code></div>
    </div>






    <section class="section level2"><h2 id="sec-poisson-introduction">Introduction<a class="anchor" aria-label="anchor" href="#sec-poisson-introduction"></a>
</h2>
<div class="cell">
<details class="code-fold"><summary>Session Settings</summary><div class="sourceCode cell-code" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Graphs----</span></span>
<span><span class="va">face_text</span><span class="op">=</span><span class="st">'plain'</span></span>
<span><span class="va">face_title</span><span class="op">=</span><span class="st">'plain'</span></span>
<span><span class="va">size_title</span> <span class="op">=</span> <span class="fl">14</span></span>
<span><span class="va">size_text</span> <span class="op">=</span> <span class="fl">11</span></span>
<span><span class="va">legend_size</span> <span class="op">=</span> <span class="fl">11</span></span>
<span></span>
<span><span class="va">global_theme</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span> <span class="op">%+replace%</span></span>
<span>    <span class="fu">theme</span><span class="op">(</span></span>
<span>      text <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>size <span class="op">=</span> <span class="va">size_text</span>, face <span class="op">=</span> <span class="va">face_text</span><span class="op">)</span>,</span>
<span>      legend.position <span class="op">=</span> <span class="st">"bottom"</span>,</span>
<span>      legend.direction <span class="op">=</span> <span class="st">"horizontal"</span>, </span>
<span>      legend.box <span class="op">=</span> <span class="st">"vertical"</span>,</span>
<span>      legend.key <span class="op">=</span> <span class="fu">element_blank</span><span class="op">(</span><span class="op">)</span>,</span>
<span>      legend.text <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>size <span class="op">=</span> <span class="va">legend_size</span><span class="op">)</span>,</span>
<span>      axis.text <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>size <span class="op">=</span> <span class="va">size_text</span>, face <span class="op">=</span> <span class="va">face_text</span><span class="op">)</span>, </span>
<span>      plot.title <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span></span>
<span>        size <span class="op">=</span> <span class="va">size_title</span>, </span>
<span>        hjust <span class="op">=</span> <span class="fl">0.5</span></span>
<span>      <span class="op">)</span>,</span>
<span>      plot.subtitle <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>hjust <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Outputs</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span><span class="st">"digits"</span> <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
</details>
</div>
<div class="cell">
<style type="text/css">
.justify {
  text-align: justify !important
}
</style>
</div>
<div>
<blockquote>
<p><strong>In Brief</strong></p>
<p>The objective of this vignette is to demonstrate the application of Poisson regression in analyzing insurance data, specifically focusing on the <code>freMTPLfreq</code> and <code>freMTPLsev</code> datasets from <span class="citation" data-cites="charpentierCAS">Charpentier (<a href="#ref-charpentierCAS" role="doc-biblioref">2014</a>)</span>. These datasets provide information on insurance contracts and claims related to French motor third-party liability insurance.</p>
<p>By leveraging Poisson regression, our goal is to model the frequency of claims and investigate the factors influencing claim occurrence within the insurance data. Understanding these factors is crucial for accurate risk assessment, pricing strategies, and effective decision-making in the insurance industry.</p>
</blockquote>
</div>
<section class="level2"><h3 id="required-packages">Required Packages<a class="anchor" aria-label="anchor" href="#required-packages"></a>
</h3>
<div class="cell">
<details class="code-fold"><summary>Show the code</summary><div class="sourceCode cell-code" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">required_libraries</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"tidyverse"</span>, </span>
<span>  <span class="st">"CASdatasets"</span>,</span>
<span>  <span class="st">"glmnet"</span>,</span>
<span>  <span class="st">"AER"</span>,</span>
<span>  <span class="st">"broom"</span>,</span>
<span>  <span class="st">"knitr"</span>,</span>
<span>  <span class="st">"kableExtra"</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/invisible.html" class="external-link">invisible</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">required_libraries</span>, <span class="va">library</span>, character.only <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</details>
</div>
</section><section class="level2"><h3 id="data">Data<a class="anchor" aria-label="anchor" href="#data"></a>
</h3>
<div class="justify">
<p>The Data used in this vignette come from French motor third party liability insurance portfolio.</p>
<p>The first dataset, <code>freMTPLfreq</code>, encompasses details regarding contracts and clients obtained from a French insurance company, related to some motor insurance portfolio.</p>
<p>The second dataset, <code>freMTPLsev</code>, contains claims information, from the same company.</p>
<p>For convenience, the <code>freMTPLfreq</code> table will be named <code>CONTRACTS</code> hereafter. The <code>freMTPLsev</code> will be named <code>CLAIMS</code></p>
</div>
</section><section class="level2"><h3 id="dictionaries">Dictionaries<a class="anchor" aria-label="anchor" href="#dictionaries"></a>
</h3>
<p>The list of the 10 variables from the <code>freMTPLfreq</code> dataset is reported in <a href="#tbl-dict-freMTPLfreq" class="quarto-xref">TableÂ 1</a>. Similarly, the two variables encapsulated within the <code>freMTPLsev</code> dataset are reported in table <a href="#tbl-dict-freMTPLsev" class="quarto-xref">TableÂ 2</a>.</p>
<div class="justify">
<div id="tbl-dict-freMTPLfreq" class="striped hover quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-tbl"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-dict-freMTPLfreq-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
TableÂ 1: Content of the <code>freMTPLfreq</code> dataset: CONTRACTS
</figcaption><div aria-describedby="tbl-dict-freMTPLfreq-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table table-striped table-hover caption-top">
<colgroup>
<col style="width: 24%">
<col style="width: 24%">
<col style="width: 50%">
</colgroup>
<thead><tr class="header">
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>PolicyID</td>
<td>Numeric</td>
<td>Unique identifier for the contract</td>
</tr>
<tr class="even">
<td>ClaimNB</td>
<td>Numeric</td>
<td>Number of claims during the exposure period</td>
</tr>
<tr class="odd">
<td>Exposure</td>
<td>Numeric</td>
<td>Exposure duration in years</td>
</tr>
<tr class="even">
<td>Power</td>
<td>Factor</td>
<td>Power of the car (ordered categorical)</td>
</tr>
<tr class="odd">
<td>CarAge</td>
<td>Numeric</td>
<td>Age of the car in years</td>
</tr>
<tr class="even">
<td>DriverAge</td>
<td>Numeric</td>
<td>Age of the driver in years</td>
</tr>
<tr class="odd">
<td>Brand</td>
<td>Factor</td>
<td>Brand of the car categorized</td>
</tr>
<tr class="even">
<td>Gaz</td>
<td>Factor</td>
<td>Type of fuel used (diesel or regular)</td>
</tr>
<tr class="odd">
<td>Region</td>
<td>Factor</td>
<td>Region in France where the driver resides</td>
</tr>
<tr class="even">
<td>Density</td>
<td>Numeric</td>
<td>Population density in the city where the driver resides</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<div id="tbl-dict-freMTPLsev" class="striped hover quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-tbl"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-dict-freMTPLsev-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
TableÂ 2: Content of the <code>freMTPLsev</code> dataset: CLAIMS
</figcaption><div aria-describedby="tbl-dict-freMTPLsev-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table table-striped table-hover caption-top">
<thead><tr class="header">
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>PolicyID</td>
<td>Numeric</td>
<td>Unique identifier for the contract</td>
</tr>
<tr class="even">
<td>ClaimAmount</td>
<td>Numeric</td>
<td>Cost of the claim, seen as at a recent date</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
</div>
</section><section class="level2"><h3 id="importation">Importation<a class="anchor" aria-label="anchor" href="#importation"></a>
</h3>
<div class="cell">
<details class="code-fold"><summary>Code for importing our datasets</summary><div class="sourceCode cell-code" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"freMTPLfreq"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"freMTPLsev"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">CONTRACTS</span> <span class="op">&lt;-</span> <span class="va">freMTPLfreq</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">Exposure</span> <span class="op">&gt;</span> <span class="fl">0.90</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># Create factors</span></span>
<span><span class="va">CONTRACTS.f</span> <span class="op">&lt;-</span> </span>
<span>  <span class="va">CONTRACTS</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span></span>
<span>    DriverAge <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/cut.html" class="external-link">cut</a></span><span class="op">(</span><span class="va">DriverAge</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">17</span>, <span class="fl">22</span>, <span class="fl">26</span>, <span class="fl">42</span>, <span class="fl">74</span>, <span class="cn">Inf</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    CarAge <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/cut.html" class="external-link">cut</a></span><span class="op">(</span><span class="va">CarAge</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">4</span>, <span class="fl">15</span>, <span class="cn">Inf</span><span class="op">)</span>, include.lowest <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>    Density <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/cut.html" class="external-link">cut</a></span><span class="op">(</span><span class="va">Density</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">40</span>, <span class="fl">200</span>, <span class="fl">500</span>, <span class="fl">4500</span>, <span class="cn">Inf</span><span class="op">)</span>, include.lowest <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">CLAIMS</span> <span class="op">&lt;-</span> <span class="va">freMTPLsev</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">as_tibble</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># check</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">freMTPLsev</span><span class="op">$</span><span class="va">PolicyID</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">CONTRACTS</span><span class="op">$</span><span class="va">PolicyID</span><span class="op">)</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">CONTRACTS</span><span class="op">$</span><span class="va">ClaimNb</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="st">"Data import has been completed successfully."</span><span class="op">)</span></span>
<span><span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Error when importing data: numbers are not equal."</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</details>
</div>
</section></section><section class="section level2"><h2 id="sec-poisson-models">Models<a class="anchor" aria-label="anchor" href="#sec-poisson-models"></a>
</h2>
<section class="level2"><h3 id="purpose">Purpose<a class="anchor" aria-label="anchor" href="#purpose"></a>
</h3>
<div class="justify">
<p>In the realm of automobile insurance, Poisson regression is a reliable tool for understanding and predicting accident frequencies, repair costs, and claims trends.</p>
<p>By utilizing Poisson regression, insurers can anticipate forthcoming challenges, refine pricing strategies, and ensure resilience in a dynamic landscape of risk.</p>
</div>
<div>
<blockquote>
<p><strong>Pay Attention</strong></p>
<div class="justify">
<p>The results from Poisson regression models are valid if:<br></p>
<ul>
<li>the responses are independent.<br>
</li>
<li>the responses are distributed according to a Poisson distribution with parameter Lambda.<br>
</li>
<li>there is no <a href="https://en.wikipedia.org/wiki/Overdispersion" class="external-link">overdispersion</a>.</li>
</ul>
</div>
</blockquote>
</div>
<div class="justify">
<p>In this analysis, we will explore the relationship between the response variable <code>ClaimNb</code> and the explanatory variables <code>DriverAge</code> and <code>Density</code>. This modeling framework aligns with the principles outlined by <span class="citation" data-cites="agresti">Agresti (<a href="#ref-agresti" role="doc-biblioref">2013</a>)</span>, a prominent figure in statistical methodology, who emphasizes the significance of considering multiple explanatory factors in regression analysis.</p>
<p>To model the frequency of insurance claims, we employ a Poisson regression approach. The response variable in our model, denoted as <code>ClaimNb</code>, represents the count of insurance claims and is assumed to follow a Poisson distribution:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext mathvariant="normal">ClaimNb</mtext><mo>âˆ¼</mo><mtext mathvariant="normal">Poisson</mtext><mrow><mo stretchy="true" form="prefix">(</mo><mi>Î»</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>,</mo></mrow><annotation encoding="application/x-tex">
\text{ClaimNb} \sim \text{Poisson}(\lambda),
</annotation></semantics></math></p>
<p>where <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Î»</mi><annotation encoding="application/x-tex">\lambda</annotation></semantics></math> is the mean rate of claims. The Poisson regression model relates <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Î»</mi><annotation encoding="application/x-tex">\lambda</annotation></semantics></math> to a set of predictor variables through a logarithmic link function. This link function ensures that the predicted rate of claims is always positive, as required by the Poisson distribution. More precisely, we express the natural logarithm of <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Î»</mi><annotation encoding="application/x-tex">\lambda</annotation></semantics></math> as a linear combination of the predictors:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>log</mo><mrow><mo stretchy="true" form="prefix">(</mo><mi>Î»</mi><mo stretchy="true" form="postfix">)</mo></mrow><mo>=</mo><msub><mi>Î²</mi><mn>0</mn></msub><mo>+</mo><msub><mi>Î²</mi><mn>1</mn></msub><mo>Ã—</mo><mtext mathvariant="normal">DriverAge</mtext><mo>+</mo><msub><mi>Î²</mi><mn>2</mn></msub><mo>Ã—</mo><mtext mathvariant="normal">Density</mtext><mo>,</mo></mrow><annotation encoding="application/x-tex">
\log{(\lambda)} = \beta_0 + \beta_1 \times \text{DriverAge} + \beta_2 \times \text{Density},
</annotation></semantics></math></p>
<p>where <code>DriverAge</code> represents the age of the driver, <code>Density</code> indicates the population density of the city in which the driver resides, and <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>Î²</mi><mn>0</mn></msub><annotation encoding="application/x-tex">\beta_0</annotation></semantics></math>, <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>Î²</mi><mn>1</mn></msub><annotation encoding="application/x-tex">\beta_1</annotation></semantics></math>, and <math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>Î²</mi><mn>2</mn></msub><annotation encoding="application/x-tex">\beta_2</annotation></semantics></math> are the regression coefficients that need to be estimated.</p>
</div>
<p>The estimated lambda parameter, which represents the mean of claims, is: 0.05.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1234</span><span class="op">)</span> </span>
<span></span>
<span><span class="va">theoretic_count</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Poisson.html" class="external-link">rpois</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">CONTRACTS.f</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">CONTRACTS.f</span><span class="op">$</span><span class="va">ClaimNb</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">tc_df</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="op">(</span><span class="va">theoretic_count</span><span class="op">)</span></span>
<span></span>
<span><span class="va">freq_theoretic</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/proportions.html" class="external-link">prop.table</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">tc_df</span><span class="op">$</span><span class="va">theoretic_count</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">freq_claim</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/proportions.html" class="external-link">prop.table</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">CONTRACTS.f</span><span class="op">$</span><span class="va">ClaimNb</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">freq_theoretic_df</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="op">(</span></span>
<span>  Count <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">freq_theoretic</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  Frequency <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">freq_theoretic</span><span class="op">)</span>,</span>
<span>  Source <span class="op">=</span> <span class="st">"Theoretical Count"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">freq_claim_df</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="op">(</span></span>
<span>  Count <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">freq_claim</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  Frequency <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">freq_claim</span><span class="op">)</span>,</span>
<span>  Source <span class="op">=</span> <span class="st">"Empirical Count"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">freq_combined</span> <span class="op">&lt;-</span> <span class="va">freq_theoretic_df</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">freq_claim_df</span><span class="op">)</span></span></code></pre></div>
</div>
<p>The theoretical and empirical histograms associated with a Poisson distribution are shown in <a href="#fig-plot-hist-claims" class="quarto-xref">FigureÂ 1</a>.</p>
<div class="cell">
<details class="code-fold"><summary>Code for the following graph</summary><div class="sourceCode cell-code" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggplot</span><span class="op">(</span><span class="va">freq_combined</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">Count</span>, y <span class="op">=</span> <span class="va">Frequency</span>, fill <span class="op">=</span> <span class="va">Source</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_bar</span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span>, position <span class="op">=</span> <span class="st">"dodge2"</span>, width <span class="op">=</span> <span class="fl">0.3</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Claim Number"</span>, y <span class="op">=</span> <span class="st">"Frequency"</span>, fill <span class="op">=</span> <span class="st">"Legend"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme</span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"right"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_fill_manual</span><span class="op">(</span></span>
<span>    <span class="cn">NULL</span>,</span>
<span>    values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Empirical Count"</span> <span class="op">=</span> <span class="st">"black"</span>, <span class="st">"Theoretical Count"</span> <span class="op">=</span> <span class="st">"#1E88E5"</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"Legend"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Claim Number"</span>, y <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme</span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"right"</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu">global_theme</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</details><div class="cell-output-display">
<div id="fig-plot-hist-claims" class="quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-fig" id="fig-plot-hist-claims-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
FigureÂ 1: <span style="color: #1E88E5;">Theoretical</span> and <span style="color: black;">empirical</span> histogram of claims in frequence
</figcaption><div aria-describedby="fig-plot-hist-claims-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="poisson_vignette_files/figure-html/fig-plot-hist-claims-1.png" width="768">
</div>
</figure>
</div>
</div>
</div>
</section><section class="level2"><h3 id="model">Model<a class="anchor" aria-label="anchor" href="#model"></a>
</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">reg</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/glm.html" class="external-link">glm</a></span><span class="op">(</span></span>
<span>  <span class="va">ClaimNb</span> <span class="op">~</span> <span class="va">DriverAge</span> <span class="op">+</span> <span class="va">Density</span>,</span>
<span>  family <span class="op">=</span> <span class="va">poisson</span>,</span>
<span>  data <span class="op">=</span> <span class="va">CONTRACTS.f</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">reg</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
glm(formula = ClaimNb ~ DriverAge + Density, family = poisson,
    data = CONTRACTS.f)

Coefficients:
                     Estimate Std. Error z value Pr(&gt;|z|)
(Intercept)           -2.5436     0.0843  -30.16  &lt; 2e-16 ***
DriverAge(22,26]      -0.3902     0.1009   -3.87  0.00011 ***
DriverAge(26,42]      -0.7148     0.0819   -8.73  &lt; 2e-16 ***
DriverAge(42,74]      -0.7152     0.0807   -8.87  &lt; 2e-16 ***
DriverAge(74,Inf]     -0.6946     0.0924   -7.52  5.5e-14 ***
Density(40,200]        0.1721     0.0377    4.57  4.9e-06 ***
Density(200,500]       0.2965     0.0421    7.04  1.9e-12 ***
Density(500,4.5e+03]   0.4935     0.0375   13.15  &lt; 2e-16 ***
Density(4.5e+03,Inf]   0.6987     0.0583   11.98  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

(Dispersion parameter for poisson family taken to be 1)

    Null deviance: 42434  on 135106  degrees of freedom
Residual deviance: 42071  on 135098  degrees of freedom
AIC: 55722

Number of Fisher Scoring iterations: 6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">dispersiontest</span><span class="op">(</span><span class="va">reg</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Overdispersion test

data:  reg
z = 7, p-value = 5e-12
alternative hypothesis: true dispersion is greater than 1
sample estimates:
dispersion
         1 </code></pre>
</div>
</div>
<div class="justify">
<p>This is a Poisson regression model predicting <code>ClaimNb</code> (number of claims) with <code>DriverAge</code> and <code>Density</code> as predictors. The coefficients in the model indicate the change in the log count of claims associated with each predictor level compared to a reference level.</p>
<p>For example, as <code>DriverAge</code> increases from 22 to 26, the log count of claims decreases by 0.39. Similarly, as <code>Density</code> increases within each category, the log count of claims increases.</p>
<p>All coefficients in the model are statistically significant, reinforcing the reliability of these predictors in explaining the variation in the number of insurance claims.</p>
</div>
<div>
<blockquote>
<p><strong>Presence of overdispersion</strong></p>
<p>Overdispersion can lead to an inadequate model fit, inflated standard errors, incorrect inference, and biased parameter estimates. As such, the following interpretations should be approached with caution. Addressing overdispersion may require alternative modeling approaches, such as negative binomial regression or quasi-Poisson regression, which offer greater flexibility in capturing the variability in the data.</p>
</blockquote>
</div>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby">
<li><a data-tabby-default="" href="#tabset-1-1">Coefficients</a></li>
<li><a href="#tabset-1-2">Count-Ratio</a></li>
<li><a href="#tabset-1-3">Confidence intervals</a></li>
</ul>
<ul class="nav nav-tabs" id="NA" role="tablist"><li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#NA" id="NA-tab" type="button" role="tab" aria-controls="NA" aria-selected="true" class="active nav-link">
<div class="cell">
<details class="code-fold"><summary>Code to create the table</summary><div class="sourceCode cell-code" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">reg_coef</span> <span class="op">&lt;-</span> <span class="fu">tidy</span><span class="op">(</span><span class="va">reg</span><span class="op">)</span></span>
<span></span>
<span><span class="va">reg_coef</span><span class="op">$</span><span class="va">p.value</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span><span class="va">reg_coef</span><span class="op">$</span><span class="va">p.value</span>, scientific <span class="op">=</span> <span class="cn">TRUE</span>, digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span></span>
<span><span class="va">reg_coef</span> <span class="op">&lt;-</span> <span class="va">reg_coef</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>significance <span class="op">=</span> <span class="fu">case_when</span><span class="op">(</span></span>
<span>    <span class="va">p.value</span> <span class="op">&lt;</span> <span class="fl">0.001</span> <span class="op">~</span> <span class="st">"***"</span>,</span>
<span>    <span class="va">p.value</span> <span class="op">&lt;</span> <span class="fl">0.01</span> <span class="op">~</span> <span class="st">"**"</span>,</span>
<span>    <span class="va">p.value</span> <span class="op">&lt;</span> <span class="fl">0.05</span> <span class="op">~</span> <span class="st">"*"</span>,</span>
<span>    <span class="cn">TRUE</span> <span class="op">~</span> <span class="st">""</span></span>
<span>  <span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">kable</span><span class="op">(</span><span class="va">reg_coef</span>, format <span class="op">=</span> <span class="st">"html"</span>, escape <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">kable_styling</span><span class="op">(</span>full_width <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">add_footnote</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Significance levels: *** p &lt; 0.001, ** p &lt; 0.01, * p &lt; 0.05"</span><span class="op">)</span>, notation <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span></code></pre></div>
</details><div id="tbl-poisson-coef" class="cell quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-tbl"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-poisson-coef-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
TableÂ 3: Coefficients
</figcaption><div aria-describedby="tbl-poisson-coef-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="table table do-not-create-environment cell caption-top" data-quarto-postprocess="true" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead><tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">term</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">estimate</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">std.error</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">statistic</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">p.value</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">significance</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">(Intercept)</td>
<td style="text-align: right;">-2.54</td>
<td style="text-align: right;">0.08</td>
<td style="text-align: right;">-30.2</td>
<td style="text-align: left;">7.79e-200</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">DriverAge(22,26]</td>
<td style="text-align: right;">-0.39</td>
<td style="text-align: right;">0.10</td>
<td style="text-align: right;">-3.9</td>
<td style="text-align: left;">1.10e-04</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="odd">
<td style="text-align: left;">DriverAge(26,42]</td>
<td style="text-align: right;">-0.71</td>
<td style="text-align: right;">0.08</td>
<td style="text-align: right;">-8.7</td>
<td style="text-align: left;">2.64e-18</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="even">
<td style="text-align: left;">DriverAge(42,74]</td>
<td style="text-align: right;">-0.72</td>
<td style="text-align: right;">0.08</td>
<td style="text-align: right;">-8.9</td>
<td style="text-align: left;">7.56e-19</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="odd">
<td style="text-align: left;">DriverAge(74,Inf]</td>
<td style="text-align: right;">-0.69</td>
<td style="text-align: right;">0.09</td>
<td style="text-align: right;">-7.5</td>
<td style="text-align: left;">5.46e-14</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="even">
<td style="text-align: left;">Density(40,200]</td>
<td style="text-align: right;">0.17</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">4.6</td>
<td style="text-align: left;">4.92e-06</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Density(200,500]</td>
<td style="text-align: right;">0.30</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">7.0</td>
<td style="text-align: left;">1.91e-12</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="even">
<td style="text-align: left;">Density(500,4.5e+03]</td>
<td style="text-align: right;">0.49</td>
<td style="text-align: right;">0.04</td>
<td style="text-align: right;">13.2</td>
<td style="text-align: left;">1.74e-39</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Density(4.5e+03,Inf]</td>
<td style="text-align: right;">0.70</td>
<td style="text-align: right;">0.06</td>
<td style="text-align: right;">12.0</td>
<td style="text-align: left;">4.65e-33</td>
<td style="text-align: left;">***</td>
</tr>
</tbody>
<tfoot><tr class="even">
<td style="text-align: left; padding: 0; border: 0;">
<sup></sup> Significance levels: *** p &lt; 0.001, ** p &lt; 0.01, * p &lt; 0.05</td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
</tr></tfoot>
</table>
</div>
</div>
</figure>
</div>
</div>
</button></li></ul>
<div class="tab-content"><div class="active  tab-pane" id="NA" role="tabpanel" aria-labelledby="NA-tab">

<div id="tabset-1-2">
<div class="cell">
<details class="code-fold"><summary>Code to create the table</summary><div class="sourceCode cell-code" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">reg_count_ratio</span> <span class="op">&lt;-</span> <span class="fu">tidy</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">reg</span><span class="op">)</span><span class="op">[</span><span class="op">-</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">reg_count_ratio</span> <span class="op">&lt;-</span> <span class="va">reg_count_ratio</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>p.value <span class="op">=</span> <span class="va">reg_coef</span><span class="op">$</span><span class="va">p.value</span><span class="op">[</span><span class="op">-</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>significance <span class="op">=</span> <span class="fu">case_when</span><span class="op">(</span></span>
<span>    <span class="va">p.value</span> <span class="op">&lt;</span> <span class="fl">0.001</span> <span class="op">~</span> <span class="st">"***"</span>,</span>
<span>    <span class="va">p.value</span> <span class="op">&lt;</span> <span class="fl">0.01</span> <span class="op">~</span> <span class="st">"**"</span>,</span>
<span>    <span class="va">p.value</span> <span class="op">&lt;</span> <span class="fl">0.05</span> <span class="op">~</span> <span class="st">"*"</span>,</span>
<span>    <span class="cn">TRUE</span> <span class="op">~</span> <span class="st">""</span></span>
<span>  <span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">p.value</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">kable</span><span class="op">(</span><span class="va">reg_count_ratio</span>, format <span class="op">=</span> <span class="st">"html"</span>, escape <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">kable_styling</span><span class="op">(</span>full_width <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">add_footnote</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Significance levels: *** p &lt; 0.001, ** p &lt; 0.01, * p &lt; 0.05"</span><span class="op">)</span>, notation <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span></code></pre></div>
</details><div id="tbl-poisson-count-ratio" class="cell quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-tbl"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-poisson-count-ratio-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
TableÂ 4: Count Ratio
</figcaption><div aria-describedby="tbl-poisson-count-ratio-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="table table do-not-create-environment cell caption-top" data-quarto-postprocess="true" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead><tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">names</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">x</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">significance</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">DriverAge(22,26]</td>
<td style="text-align: right;">0.68</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="even">
<td style="text-align: left;">DriverAge(26,42]</td>
<td style="text-align: right;">0.49</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="odd">
<td style="text-align: left;">DriverAge(42,74]</td>
<td style="text-align: right;">0.49</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="even">
<td style="text-align: left;">DriverAge(74,Inf]</td>
<td style="text-align: right;">0.50</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Density(40,200]</td>
<td style="text-align: right;">1.19</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="even">
<td style="text-align: left;">Density(200,500]</td>
<td style="text-align: right;">1.35</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Density(500,4.5e+03]</td>
<td style="text-align: right;">1.64</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="even">
<td style="text-align: left;">Density(4.5e+03,Inf]</td>
<td style="text-align: right;">2.01</td>
<td style="text-align: left;">***</td>
</tr>
</tbody>
<tfoot><tr class="odd">
<td style="text-align: left; padding: 0; border: 0;">
<sup></sup> Significance levels: *** p &lt; 0.001, ** p &lt; 0.01, * p &lt; 0.05</td>
<td style="text-align: right;"></td>
<td style="text-align: left;"></td>
</tr></tfoot>
</table>
</div>
</div>
</figure>
</div>
</div>
<div class="justify">
<p>Each count ratio represents the change in the count of making a claim associated with a one-unit increase in the predictor variable, compared to the reference category <code>DriverAge</code> (18,22]. For example, a count ratio of 0.68 for <code>DriverAge</code> (22,26] implies that the count of making a claim for individuals aged 22 to 26 is approximately 32% lower compared to the reference category.</p>
<p>Similarly, count ratios above 1 for <code>Density</code> categories suggest an increase in the count of making a claim as the population density increases within each category.</p>
</div>
</div>
<div id="tabset-1-3">
<div class="cell">
<details class="code-fold"><summary>Code to create the table</summary><div class="sourceCode cell-code" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">reg_conf_int</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/confint.html" class="external-link">confint</a></span><span class="op">(</span><span class="va">reg</span><span class="op">)</span><span class="op">)</span><span class="op">[</span><span class="op">-</span><span class="fl">1</span>, <span class="op">]</span><span class="op">)</span></span></code></pre></div>
</details><div class="cell-output cell-output-stderr">
<pre><code>Waiting for profiling to be done...</code></pre>
</div>
<details class="code-fold"><summary>Code to create the table</summary><div class="sourceCode cell-code" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">reg_conf_int</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2.5 %"</span>, <span class="st">"97.5 %"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">reg_conf_int</span> <span class="op">&lt;-</span> <span class="va">reg_conf_int</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>p.value <span class="op">=</span> <span class="va">reg_coef</span><span class="op">$</span><span class="va">p.value</span><span class="op">[</span><span class="op">-</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>significance <span class="op">=</span> <span class="fu">case_when</span><span class="op">(</span></span>
<span>    <span class="va">p.value</span> <span class="op">&lt;</span> <span class="fl">0.001</span> <span class="op">~</span> <span class="st">"***"</span>,</span>
<span>    <span class="va">p.value</span> <span class="op">&lt;</span> <span class="fl">0.01</span> <span class="op">~</span> <span class="st">"**"</span>,</span>
<span>    <span class="va">p.value</span> <span class="op">&lt;</span> <span class="fl">0.05</span> <span class="op">~</span> <span class="st">"*"</span>,</span>
<span>    <span class="cn">TRUE</span> <span class="op">~</span> <span class="st">""</span></span>
<span>  <span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">p.value</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">kable</span><span class="op">(</span><span class="va">reg_conf_int</span>, format <span class="op">=</span> <span class="st">"html"</span>, escape <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">kable_styling</span><span class="op">(</span>full_width <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">add_footnote</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Significance levels : *** p &lt; 0.001, ** p &lt; 0.01, * p &lt; 0.05"</span><span class="op">)</span>, notation <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span></code></pre></div>
</details><div id="tbl-poisson-ci" class="cell quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-tbl"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-poisson-ci-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
TableÂ 5: Confidence intervals
</figcaption><div aria-describedby="tbl-poisson-ci-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="table table do-not-create-environment cell caption-top" data-quarto-postprocess="true" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead><tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th"></th>
<th style="text-align: right;" data-quarto-table-cell-role="th">2.5 %</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">97.5 %</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">significance</th>
</tr></thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">DriverAge(22,26]</td>
<td style="text-align: right;">0.56</td>
<td style="text-align: right;">0.83</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="even">
<td style="text-align: left;">DriverAge(26,42]</td>
<td style="text-align: right;">0.42</td>
<td style="text-align: right;">0.58</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="odd">
<td style="text-align: left;">DriverAge(42,74]</td>
<td style="text-align: right;">0.42</td>
<td style="text-align: right;">0.58</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="even">
<td style="text-align: left;">DriverAge(74,Inf]</td>
<td style="text-align: right;">0.42</td>
<td style="text-align: right;">0.60</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Density(40,200]</td>
<td style="text-align: right;">1.10</td>
<td style="text-align: right;">1.28</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="even">
<td style="text-align: left;">Density(200,500]</td>
<td style="text-align: right;">1.24</td>
<td style="text-align: right;">1.46</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Density(500,4.5e+03]</td>
<td style="text-align: right;">1.52</td>
<td style="text-align: right;">1.76</td>
<td style="text-align: left;">***</td>
</tr>
<tr class="even">
<td style="text-align: left;">Density(4.5e+03,Inf]</td>
<td style="text-align: right;">1.79</td>
<td style="text-align: right;">2.25</td>
<td style="text-align: left;">***</td>
</tr>
</tbody>
<tfoot><tr class="odd">
<td style="text-align: left; padding: 0; border: 0;">
<sup></sup> Significance levels : *** p &lt; 0.001, ** p &lt; 0.01, * p &lt; 0.05</td>
<td style="text-align: right;"></td>
<td style="text-align: right;"></td>
<td style="text-align: left;"></td>
</tr></tfoot>
</table>
</div>
</div>
</figure>
</div>
</div>
</div>
</div></div>
</div>
</section></section><section class="section level2"><h2 id="sec-poisson-graph">Graphs<a class="anchor" aria-label="anchor" href="#sec-poisson-graph"></a>
</h2>
<div class="panel-tabset">
<ul id="tabset-2" class="panel-tabset-tabby">
<li><a data-tabby-default="" href="#tabset-2-1">DriverAge</a></li>
<li><a href="#tabset-2-2">Density</a></li>
</ul>
<ul class="nav nav-tabs" id="NA" role="tablist"><li role="presentation" class="nav-item"><button data-bs-toggle="tab" data-bs-target="#NA" id="NA-tab" type="button" role="tab" aria-controls="NA" aria-selected="true" class="active nav-link">
<div class="cell">
<details class="code-fold"><summary>Code to create the following graph</summary><div class="sourceCode cell-code" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">count_ratio</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">reg</span><span class="op">)</span><span class="op">[</span><span class="op">-</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">conf_int</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">exp</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/confint.html" class="external-link">confint</a></span><span class="op">(</span><span class="va">reg</span><span class="op">)</span><span class="op">)</span><span class="op">[</span><span class="op">-</span><span class="fl">1</span>, <span class="op">]</span></span>
<span></span>
<span><span class="va">driver_age_vars</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grep</a></span><span class="op">(</span><span class="st">"^DriverAge"</span>, <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">count_ratio</span><span class="op">)</span>, value <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">data_age</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="op">(</span></span>
<span>  variable <span class="op">=</span> <span class="va">driver_age_vars</span>,</span>
<span>  coefficient <span class="op">=</span> <span class="va">count_ratio</span><span class="op">[</span><span class="va">driver_age_vars</span><span class="op">]</span>, </span>
<span>  lower_bound <span class="op">=</span> <span class="va">conf_int</span><span class="op">[</span><span class="va">driver_age_vars</span>, <span class="fl">1</span><span class="op">]</span>, </span>
<span>  upper_bound <span class="op">=</span> <span class="va">conf_int</span><span class="op">[</span><span class="va">driver_age_vars</span>, <span class="fl">2</span><span class="op">]</span></span>
<span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">driver_density_vars</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grep</a></span><span class="op">(</span><span class="st">"^Density"</span>, <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">count_ratio</span><span class="op">)</span>, value <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="va">data_density</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="op">(</span></span>
<span>  variable <span class="op">=</span> <span class="va">driver_density_vars</span>,</span>
<span>  coefficient <span class="op">=</span> <span class="va">count_ratio</span><span class="op">[</span><span class="va">driver_density_vars</span><span class="op">]</span>, </span>
<span>  lower_bound <span class="op">=</span> <span class="va">conf_int</span><span class="op">[</span><span class="va">driver_density_vars</span>, <span class="fl">1</span><span class="op">]</span>, </span>
<span>  upper_bound <span class="op">=</span> <span class="va">conf_int</span><span class="op">[</span><span class="va">driver_density_vars</span>, <span class="fl">2</span><span class="op">]</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">ggplot</span><span class="op">(</span></span>
<span>  <span class="va">data_age</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>variable <span class="op">=</span> <span class="fu">fct_rev</span><span class="op">(</span><span class="va">variable</span><span class="op">)</span><span class="op">)</span>, </span>
<span>  <span class="fu">aes</span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="va">coefficient</span>,</span>
<span>    y <span class="op">=</span> <span class="va">variable</span>,</span>
<span>    xmin <span class="op">=</span> <span class="va">lower_bound</span>,</span>
<span>    xmax <span class="op">=</span> <span class="va">upper_bound</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_point</span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span>, size <span class="op">=</span> <span class="fl">3</span>, color <span class="op">=</span> <span class="st">"#1E88E5"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_errorbar</span><span class="op">(</span></span>
<span>    width <span class="op">=</span> <span class="fl">0.2</span>,</span>
<span>    position <span class="op">=</span> <span class="fu">position_dodge</span><span class="op">(</span>width <span class="op">=</span> <span class="fl">0.6</span><span class="op">)</span>,</span>
<span>    color <span class="op">=</span> <span class="st">"#1E88E5"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    y <span class="op">=</span> <span class="cn">NULL</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">global_theme</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</details><div class="cell-output-display">
<div id="fig-plot-coef-age" class="quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-fig" id="fig-plot-coef-age-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
FigureÂ 2: Count ratio and confidence interval of DriverAge
</figcaption><div aria-describedby="fig-plot-coef-age-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="poisson_vignette_files/figure-html/fig-plot-coef-age-1.png" width="768">
</div>
</figure>
</div>
</div>
</div>
</button></li></ul>
<div class="tab-content"><div class="active  tab-pane" id="NA" role="tabpanel" aria-labelledby="NA-tab">

<div id="tabset-2-2">
<div class="cell">
<details class="code-fold"><summary>Code to create the following graph</summary><div class="sourceCode cell-code" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data_density</span> <span class="op">&lt;-</span> <span class="va">data_density</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>variable <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html" class="external-link">reorder</a></span><span class="op">(</span><span class="va">variable</span>, <span class="va">coefficient</span>, decreasing <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">ggplot</span><span class="op">(</span></span>
<span>  <span class="va">data_density</span>, </span>
<span>  <span class="fu">aes</span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="va">coefficient</span>,</span>
<span>    y <span class="op">=</span> <span class="va">variable</span>,</span>
<span>    xmin <span class="op">=</span> <span class="va">lower_bound</span>,</span>
<span>    xmax <span class="op">=</span> <span class="va">upper_bound</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_point</span><span class="op">(</span></span>
<span>    stat <span class="op">=</span> <span class="st">"identity"</span>,</span>
<span>    size <span class="op">=</span> <span class="fl">3</span>,</span>
<span>    color <span class="op">=</span> <span class="st">"#1E88E5"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_errorbar</span><span class="op">(</span></span>
<span>    width <span class="op">=</span> <span class="fl">0.2</span>,</span>
<span>    position <span class="op">=</span> <span class="fu">position_dodge</span><span class="op">(</span>width <span class="op">=</span> <span class="fl">0.6</span><span class="op">)</span>,</span>
<span>    color <span class="op">=</span> <span class="st">"#1E88E5"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span></span>
<span>    x <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    y <span class="op">=</span> <span class="cn">NULL</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">global_theme</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</details><div class="cell-output-display">
<div id="fig-plot-coef-density" class="quarto-float quarto-figure quarto-figure-center">
<figure class="quarto-float quarto-float-fig"><figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-fig" id="fig-plot-coef-density-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
FigureÂ 3: count ratio and confidence interval of Density
</figcaption><div aria-describedby="fig-plot-coef-density-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="poisson_vignette_files/figure-html/fig-plot-coef-density-1.png" width="768">
</div>
</figure>
</div>
</div>
</div>
</div>
</div></div>
</div>
</section><section class="section level2"><h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-agresti" class="csl-entry" role="listitem">
Agresti, Alan. 2013. <em>Categorical Data Analysis, 3rd Edition</em>.
</div>
<div id="ref-charpentierCAS" class="csl-entry" role="listitem">
Charpentier, Arthur. 2014. <em>Computational Actuarial Science with <span>R</span></em>. The <span>R</span> Series. Chapman; Hall/CRC. <a href="https://www.routledge.com/Computational-Actuarial-Science-with-R/Charpentier/p/book/9781138033788" class="external-link">https://www.routledge.com/Computational-Actuarial-Science-with-R/Charpentier/p/book/9781138033788</a>.
</div>
</div>
</section><section class="section level2"><h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a>
</h2>
<div class="justify">
<p>For more similar claim frequency datasets with a Poisson-like distribution, see <a href="https://dutangc.github.io/CASdatasets/reference/ausprivauto.html" class="external-link"><code>ausprivauto0405</code></a> (import with <code>data("ausprivauto0405")</code>): Australian automobile dataset, <a href="https://dutangc.github.io/CASdatasets/reference/norauto.html" class="external-link"><code>norauto</code></a>: Norwegian automobile dataset (import with <code>data("norauto")</code>), <a href="https://dutangc.github.io/CASdatasets/reference/beMTPL16.html" class="external-link"><code>beMTPL16</code></a>: Belgian automobile dataset (import with <code>data("beMTPL16")</code>), or <a href="https://dutangc.github.io/CASdatasets/reference/pricingame.html" class="external-link"><code>pg17trainpol</code></a> (import with <code>data("pg17trainpol")</code>).</p>
</div>
</section><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'light-border',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config);
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script></main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="http://dutangc.free.fr" class="external-link">Christophe Dutang</a>, <a href="https://freakonometrics.github.io" class="external-link">Arthur Charpentier</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
